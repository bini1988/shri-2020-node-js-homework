(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2y0T":function(e,a,t){},"8V2m":function(e,a,t){},"8ioV":function(e,a,t){},CSbY:function(e,a,t){},ErKr:function(e,a,t){},GuXe:function(e,a,t){},O14P:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"fetchBuilds",(function(){return h})),t.d(n,"fetchBuildById",(function(){return N})),t.d(n,"fetchBuildLogsById",(function(){return E})),t.d(n,"queueBuild",(function(){return O}));var r={};t.r(r),t.d(r,"fetchSettings",(function(){return y})),t.d(r,"saveSettings",(function(){return j}));var s=t("q1tI"),c=t.n(s),i=t("i8i4"),l=t.n(i),o=t("/MKj"),u=t("tbn6"),m=t("ANjH"),d=t("sINF"),p=t("lSNA"),b=t.n(p),f=t("vDqi"),g=t.n(f).a.create({baseURL:"http://127.0.0.1:3030/api",timeout:5e3});g.interceptors.response.use((function(e){return e.data}));var v=g;function h(e,a){return v.get("/builds",{params:{offset:e,limit:a}})}function N(e){return v.get("/builds/"+e)}function E(e){return v.get("/builds/"+e+"/logs")}function O(e){return v.post("/builds/"+e)}function y(){return v.get("/settings")}function j(e){return v.post("/settings",e)}var C={Builds:n,Settings:r};function S(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var T=function(e){return function(e){return e.settings}(e).values};function w(e){return{type:"@builds/STORE_SETTINGS",payload:e}}var B={values:void 0},I=t("G4qV");function P(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function L(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?P(Object(t),!0).forEach((function(a){b()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var D=function(e){return e.builds},q=function(e){return D(e).buildsMap},x=function(e,a){return q(e)[a]},k=function(e,a){return function(e){return D(e).buildsLogsMap}(e)[a]},H=Object(I.a)([function(e){return D(e).buildsIds},q],(function(e,a){return e.map((function(e){return a[e]}))}));var R,M={buildsIds:[],buildsMap:{},buildsLogsMap:{}},_=Object(m.c)(((R={}).settings=function(e,a){switch(void 0===e&&(e=B),a.type){case"@builds/STORE_SETTINGS":return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?S(Object(t),!0).forEach((function(a){b()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e,{values:a.payload});default:return e}},R.builds=function(e,a){var t,n;switch(void 0===e&&(e=M),a.type){case"@builds/STORE_BUILDS":return L({},e,{buildsIds:a.payload.map((function(e){return e.id})),buildsMap:a.payload.reduce((function(e,a){return e[a.id]=a,e}),{})});case"@builds/STORE_BUILD":return L({},e,{buildsMap:L({},e.buildsMap,(t={},t[a.payload.id]=a.payload,t))});case"@builds/STORE_BUILD_LOG":return L({},e,{buildsLogsMap:L({},e.buildsLogsMap,(n={},n[a.meta.id]=a.payload,n))});default:return e}},R)),A=window.__INITIAL_STATE__;delete window.__INITIAL_STATE__;var F,z=(F=m.d,Object(m.e)(_,A,F(Object(m.a)(d.a)))),U=t("55Ip"),G=t("Ty5D"),V=(t("qVcC"),t("8OQS")),W=t.n(V),Y=t("17x9"),Q=t.n(Y),X=t("Dps+"),K=t("HPh+"),J=(t("QblC"),Object(X.cn)("Loader"));function Z(e){var a=e.className;return c.a.createElement("div",{className:Object(K.classnames)(a,J())})}Z.propTypes={className:Q.a.string};var $=Z,ee=(t("dD1Q"),t("pVnL")),ae=t.n(ee),te=(t("qhG4"),t("TBfp"),Object(X.cn)("Title"));function ne(e){var a=e.className,t=e.accent,n=e.children;return c.a.createElement("h1",{className:Object(K.classnames)(a,te({accent:t}))},n)}ne.propTypes={className:Q.a.string,accent:Q.a.bool,children:Q.a.any};var re=ne,se=Object(X.cn)("PageHeader");function ce(e){var a=e.className,t=e.children;return c.a.createElement("header",{className:Object(K.classnames)(a,se())},c.a.createElement("div",{className:Object(K.classnames)(se("Container"),"Container")},t))}ce.Title=function(e){var a=e.className,t=W()(e,["className"]);return c.a.createElement(re,ae()({},t,{className:Object(K.classnames)(a,se("Title"))}))},ce.Aside=function(e){var a=e.className,t=W()(e,["className"]);return c.a.createElement("div",ae()({},t,{className:Object(K.classnames)(a,se("Aside"))}))},ce.propTypes={className:Q.a.string,children:Q.a.any},ce.Title.propTypes={className:Q.a.string},ce.Aside.propTypes={className:Q.a.string};var ie=ce;t("ErKr"),t("ptCH");function le(e){var a=e.href,t=e.label;return c.a.createElement("a",{className:"Link",href:a},t)}le.propTypes={href:Q.a.string.isRequired,label:Q.a.string.isRequired};var oe=le,ue=Object(X.cn)("PageFooter");function me(e){var a=e.className;return c.a.createElement("footer",{className:Object(K.classnames)(a,ue())},c.a.createElement("div",{className:Object(K.classnames)(ue("Container"),"Container")},c.a.createElement("ul",{className:ue("Menu")},c.a.createElement("li",{className:ue("Item")},c.a.createElement(oe,{href:"#support",label:"Support"})),c.a.createElement("li",{className:ue("Item")},c.a.createElement(oe,{href:"#learning",label:"Learning"}))),c.a.createElement("div",{className:ue("Copyright")},"©2020 Your Name")))}me.propTypes={className:Q.a.string};var de=me,pe=(t("e91i"),Object(X.cn)("Button"));function be(e){var a=e.className,t=e.label,n=e.iconName,r=e.theme,s=e.size,i=e.view,l=e.adaptive,o=W()(e,["className","label","iconName","theme","size","view","adaptive"]),u={theme:r,size:s,view:i,adaptive:l};return c.a.createElement("button",ae()({type:"button"},o,{className:Object(K.classnames)(a,pe(u))}),c.a.createElement("span",{className:pe("Wrapper")},!!n&&c.a.createElement("svg",{className:pe("Icon"),width:"12",height:"12"},c.a.createElement("use",{xlinkHref:"#"+n})),c.a.createElement("span",{className:pe("Label")},t)))}be.defaultProps={type:"button",theme:"normal"},be.propTypes={className:Q.a.string,label:Q.a.string,iconName:Q.a.string,type:Q.a.string,theme:Q.a.string,size:Q.a.string,view:Q.a.string,adaptive:Q.a.bool};var fe=be,ge=Object(X.cn)("MainPage");function ve(e){var a=e.className,t=e.history,n=function(){return t.push("/settings")};return c.a.createElement("div",{className:Object(K.classnames)(a,ge())},c.a.createElement(ie,{className:ge("Header")},c.a.createElement(ie.Title,null,"School CI server"),c.a.createElement(ie.Aside,null,c.a.createElement(fe,{adaptive:!0,label:"Settings",iconName:"settings",size:"s",onClick:n}))),c.a.createElement("main",{className:ge("Main")},c.a.createElement("div",{className:Object(K.classnames)(ge("Container"),"Container")},c.a.createElement("section",{className:ge("Intro")},c.a.createElement("div",{className:ge("Wrapper")},c.a.createElement("svg",{className:ge("Logo"),width:"124",height:"124"},c.a.createElement("use",{xlinkHref:"#logo"})),c.a.createElement("p",{className:ge("Label")},"Configure repository connection and synchronization settings"),c.a.createElement(fe,{theme:"action",label:"Open settings",onClick:n}))))),c.a.createElement(de,{className:ge("Footer")}))}ve.propTypes={className:Q.a.string,history:Q.a.shape({push:Q.a.func}).isRequired};var he=ve,Ne=(t("8V2m"),t("rfz6"),t("P7Li"),Object(X.cn)("CommitSpan"));function Ee(e){var a=e.className,t=e.branch,n=e.hash;return c.a.createElement("span",{className:Object(K.classnames)(a,Ne())},c.a.createElement("span",{className:Ne("Label")},"Commit: "),c.a.createElement("svg",{className:Ne("Icon"),width:"16",height:"16"},c.a.createElement("use",{xlinkHref:"#code-commit"})),c.a.createElement("span",{className:Ne("Branch")},t),c.a.createElement("span",{className:Ne("Hash")},n))}Ee.propTypes={className:Q.a.string,branch:Q.a.string,hash:Q.a.string};var Oe=Ee,ye=(t("uvrI"),Object(X.cn)("OwnerSpan"));function je(e){var a=e.className,t=e.owner;return c.a.createElement("span",{className:Object(K.classnames)(a,ye())},c.a.createElement("span",{className:ye("Label")},"Author: "),c.a.createElement("svg",{className:ye("Icon"),width:"16",height:"16"},c.a.createElement("use",{xlinkHref:"#user"})),c.a.createElement("span",{className:ye("Name")},t))}je.propTypes={className:Q.a.string,owner:Q.a.string};var Ce=je,Se=t("sWYD"),Te=t("rVOZ"),we=t("Se/U"),Be=t("p+Ro"),Ie=(t("fmwg"),Object(X.cn)("DateTime")),Pe={date:{iconName:"calendar",label:"Date",format:"d MMM, HH:mm"},time:{iconName:"stopwatch",label:"Time",format:"H ч m мин"}};function Le(e){var a=e.className,t=e.dateTime,n=e.view,r=Pe[n]||{},s=r.iconName,i=r.label,l=r.format,o=Object(Be.a)(t)?t:new Date(t);return c.a.createElement("span",{className:Object(K.classnames)(a,Ie({view:n}))},!!s&&c.a.createElement("svg",{className:Ie("Icon"),width:"16",height:"16"},c.a.createElement("use",{xlinkHref:"#"+s})),i&&c.a.createElement("span",{className:Ie("Label")},i),Object(we.a)(o)&&c.a.createElement("time",{className:Ie("Time"),dateTime:t},Object(Se.a)(o,l,{locale:Te.a})))}Le.defaultProps={view:"date"},Le.propTypes={className:Q.a.string,dateTime:Q.a.oneOfType([Q.a.string,Q.a.instanceOf(Date)]),view:Q.a.oneOf(["date","time"])};var De=Le,qe=Object(X.cn)("BuildCard");function xe(e){var a=e.className,t=e.interactive,n=e.view,r=e.card,s=void 0===r?{}:r,i=s.status,l=s.buildNumber,o=void 0===l?"--":l,u=s.commitMessage,m=s.branchName,d=s.commitHash,p=s.authorName,b=s.start,f=s.duration,g=new Date((void 0===f?0:f)+ +new Date(0));return c.a.createElement("article",{className:Object(K.classnames)(a,qe({status:i,interactive:t,view:n}))},c.a.createElement("div",{className:qe("Wrapper")},c.a.createElement("div",{className:qe("Status")},c.a.createElement("svg",{className:qe("Icon"),width:"24",height:"24"},c.a.createElement("use",{xlinkHref:"#done"})),i),c.a.createElement("div",{className:qe("Content")},c.a.createElement("h3",{className:qe("Title")},c.a.createElement("span",{className:qe("No")},"#"+o)," ",c.a.createElement("span",{className:qe("Text")},u)),c.a.createElement("div",{className:qe("Meta")},c.a.createElement(Oe,{className:qe("Commit"),branch:m,hash:d}),c.a.createElement(Ce,{className:qe("Owner"),owner:p}))),c.a.createElement("div",{className:qe("Aside")},c.a.createElement(De,{className:qe("Time"),view:"date",dateTime:b}),c.a.createElement(De,{className:qe("Time"),view:"time",dateTime:g}))))}xe.propTypes={className:Q.a.string,interactive:Q.a.bool,view:Q.a.string,card:Q.a.shape({id:Q.a.string,status:Q.a.oneOf(["Waiting","InProgress","Success","Fail","Canceled"]),buildNumber:Q.a.number,commitMessage:Q.a.string,branchName:Q.a.string,commitHash:Q.a.string,authorName:Q.a.string,start:Q.a.string,duration:Q.a.number})};var ke=xe,He=t("9rZX"),Re=t.n(He),Me=(t("hNfh"),t("dwnn"),t("CSbY"),t("GuXe"),Object(X.cn)("Input"));function _e(e){var a=e.className,t=e.id,n=e.name,r=e.type,s=e.value,i=e.palceholder,l=e.min,o=e.max,u=e.textAlign,m=e.cleanable,d=e.innerRef,p=e.onChange;return c.a.createElement("div",{className:Object(K.classnames)(a,Me({textAlign:u,cleanable:m}))},c.a.createElement("input",{ref:d,className:Me("Control"),type:r,id:t,name:n,value:s,placeholder:i,min:l,max:o,onChange:function(e){return p(e.target.value)}}),c.a.createElement("button",{className:Me("Clear",{hidden:!s}),type:"button",onClick:function(){return p("")}},c.a.createElement("svg",{className:Me("Icon"),width:"16",height:"16"},c.a.createElement("use",{xlinkHref:"#clear"})),"Clear"))}_e.defaultProps={type:"text",onChange:function(){}},_e.propTypes={className:Q.a.string,id:Q.a.string,name:Q.a.string,type:Q.a.string,value:Q.a.oneOfType([Q.a.string,Q.a.number]),palceholder:Q.a.string,min:Q.a.string,max:Q.a.string,textAlign:Q.a.string,cleanable:Q.a.bool,innerRef:Q.a.any,onChange:Q.a.func};var Ae=_e,Fe=Object(X.cn)("TextInput");function ze(e){var a=e.className,t=e.id,n=e.name,r=e.label,s=e.value,i=e.palceholder,l=e.required,o=e.onChange;return c.a.createElement("div",{className:Object(K.classnames)(a,Fe({required:l}))},!!r&&c.a.createElement("label",{className:Fe("Label"),htmlFor:n},r),c.a.createElement(Ae,{className:Fe("Control"),id:t,name:n,value:s,palceholder:i,cleanable:!0,onChange:o}))}ze.propTypes={className:Q.a.string,id:Q.a.string,name:Q.a.string,value:Q.a.string,label:Q.a.string,palceholder:Q.a.string,required:Q.a.bool,onChange:Q.a.func};var Ue=ze,Ge=Object(X.cn)("NewBuildForm");function Ve(e){var a=Object(s.useState)(""),t=a[0],n=a[1],r=e.className,i=e.onSubmit,l=e.onCancel;return c.a.createElement("section",{className:Object(K.classnames)(r,Ge())},c.a.createElement("h3",{className:Ge("Title")},"New build"),c.a.createElement("form",{className:Ge("Form"),onSubmit:function(e){e.preventDefault(),i({commit:t})}},c.a.createElement("p",{className:Ge("Text")},"Configure repository connection and synchronization settings."),c.a.createElement(Ue,{id:"commit",name:"commit",value:t,palceholder:"Commit hash",onChange:n}),c.a.createElement("div",{className:Ge("Footer")},c.a.createElement(fe,{className:Ge("Button"),type:"submit",theme:"action",label:"Run build",disabled:!t}),c.a.createElement(fe,{className:Ge("Button"),theme:"secondary",label:"Cancel",onClick:l}))))}Ve.defaultProps={onSubmit:function(){}},Ve.propTypes={className:Q.a.string,onSubmit:Q.a.func,onCancel:Q.a.func};var We=Ve;Re.a.setAppElement("#app");var Ye=Object(X.cn)("NewBuildDialog");function Qe(e){var a=e.isOpen,t=e.onSubmit,n=e.onCancel;return c.a.createElement(Re.a,{isOpen:a,portalClassName:Ye(),closeTimeoutMS:300,className:{base:Ye("Wrapper"),afterOpen:Ye("Wrapper",{entered:!0}),beforeClose:Ye("Wrapper",{leave:!0})},overlayClassName:{base:Ye("Overlay"),afterOpen:Ye("Overlay",{entered:!0}),beforeClose:Ye("Overlay",{leave:!0})},bodyOpenClassName:"Page_noscroll",onRequestClose:n},c.a.createElement("div",{className:Ye("Content")},c.a.createElement(We,{onSubmit:t,onCancel:n})))}Qe.propTypes={isOpen:Q.a.bool,onSubmit:Q.a.func,onCancel:Q.a.func};var Xe=Qe,Ke=Object(X.cn)("BuildHistoryPage");function Je(e){var a=e.className,t=e.history,n=e.buildsCards,r=void 0===n?[]:n,i=e.fetchBuilds,l=e.queueBuild,o=Object(s.useState)(!1),u=o[0],m=o[1],d=function(){return m(!1)};return Object(s.useEffect)((function(){i()}),[]),c.a.createElement("div",{className:Object(K.classnames)(a,Ke())},c.a.createElement(ie,{className:Ke("Header")},c.a.createElement(ie.Title,{accent:!0},"School CI server"),c.a.createElement(ie.Aside,{className:Ke("Aside")},c.a.createElement(fe,{adaptive:!0,label:"Run build",iconName:"play",size:"s",onClick:function(){return m(!0)}}),c.a.createElement(fe,{label:"Settings",iconName:"settings",size:"s",view:"tile",onClick:function(){return t.push("/settings")}}))),c.a.createElement("main",{className:Ke("Main")},c.a.createElement("div",{className:Object(K.classnames)(Ke("Container"),"Container")},c.a.createElement("section",{className:Ke("History")},c.a.createElement("h3",{className:Ke("Title")},"BuildHistoryPage"),c.a.createElement("ul",{className:Ke("Items")},r.map((function(e){return void 0===e&&(e={}),c.a.createElement("li",{className:Ke("Item"),key:e.id},c.a.createElement(U.b,{className:Ke("Link"),to:"/build/"+e.id},c.a.createElement(ke,{interactive:!0,card:e})))}))),r>0&&c.a.createElement(fe,{className:Ke("More"),label:"Show more",size:"s"}))),c.a.createElement(Xe,{isOpen:u,onCancel:d,onSubmit:function(e){var a=e.commit;d(),a&&l(a).then((function(e){var a=e.buildId;t.push("/build/"+a)}))}})),c.a.createElement(de,null))}Je.propTypes={className:Q.a.string,history:Q.a.shape({push:Q.a.func}).isRequired,buildsCards:Q.a.arrayOf(Q.a.object),fetchBuilds:Q.a.func,queueBuild:Q.a.func};var Ze=Je;var $e=Object(o.b)((function(e){return{buildsCards:H(e)}}),{fetchBuilds:function(e,a){return function(t){return C.Builds.fetchBuilds(e,a).then((function(e){var a=e.data;t({type:"@builds/STORE_BUILDS",payload:a})}))}},queueBuild:function(e){return function(){return C.Builds.queueBuild(e)}}})(Ze);var ea=function(){var e=Object(u.useToasts)().addToast;return{onSuccess:Object(s.useCallback)((function(a){return e(a,{appearance:"success",autoDismiss:!0})}),[e]),onError:Object(s.useCallback)((function(a){return e(a,{appearance:"error",autoDismiss:!0})}),[e])}};var aa=function(e){var a=e.initialSubmitting,t=e.onSubmit,n=Object(s.useState)(a),r=n[0],c=n[1];return[r,Object(s.useCallback)((function(){return c(!0),t.apply(void 0,arguments).then((function(e){return c(!1),e})).catch((function(e){throw c(!1),e}))}))]};function ta(e){var a=e.settings,t=e.fetchSettings,n=W()(e,["settings","fetchSettings"]),r=ea().onError,i=aa({initialSubmitting:!a,onSubmit:t}),l=i[0],o=i[1];return Object(s.useEffect)((function(){a||o().catch((function(){return r("Can not fetch settings")}))}),[a,t]),l?c.a.createElement($,{className:"Page-Loader"}):a?c.a.createElement($e,n):c.a.createElement(he,n)}ta.propTypes={history:Q.a.shape({push:Q.a.func}).isRequired,settings:Q.a.object,fetchSettings:Q.a.func};var na=ta;var ra=Object(o.b)((function(e){return{settings:T(e)}}),{fetchSettings:function(){return function(e){return C.Settings.fetchSettings().then((function(a){var t=a.data;e(w(t))}))}}})(na);t("p0Xn"),t("qYat");function sa(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function ca(e){void 0===e&&(e={});var a=e,t=a.repoName,n=void 0===t?"":t,r=a.buildCommand,s=void 0===r?"":r,c=a.mainBranch,i=void 0===c?"":c,l=a.period;return{repoName:n,buildCommand:s,mainBranch:i,period:void 0===l?0:l}}var ia=function(e){var a=e.initialValues,t=e.onSubmit,n=Object(s.useRef)(!0),r=Object(s.useState)(!1),c=r[0],i=r[1],l=Object(s.useState)(ca(a)),o=l[0],u=l[1],m=function(e){var a={};return e.repoName?e.buildCommand?null:(a.buildCommand="Build command is required",a):(a.repoName="GitHub repository is required",a)}(o);return Object(s.useEffect)((function(){u(ca(a))}),[a]),Object(s.useEffect)((function(){return function(){n.current=!1}}),[]),[{values:o,errors:m,submitting:c},function(e){return function(a){u((function(t){var n;return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?sa(Object(t),!0).forEach((function(a){b()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):sa(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},t,((n={})[e]=a,n))}))}},function(e){e&&e.preventDefault(),i(!0),t(o).then((function(e){return n.current&&i(!1),e})).catch((function(e){throw n.current&&i(!1),e}))}]},la=t("tAlu"),oa=t.n(la),ua=(t("8ioV"),Object(X.cn)("NumericInput"));function ma(e){var a=e.className,t=e.id,n=e.name,r=e.label,s=e.value,i=e.min,l=e.max,o=e.palceholder,u=e.units,m=e.onChange;return c.a.createElement("div",{className:Object(K.classnames)(a,ua())},c.a.createElement("div",{className:ua("Wrapper")},!!r&&c.a.createElement("label",{className:ua("Label"),htmlFor:t},r),c.a.createElement(oa.a,{mask:[/\d/,/\d/,/\d/],guide:!1,className:ua("Control"),id:t,name:n,value:s,palceholder:o,type:"text",min:i,max:l,textAlign:"right",onChange:m,render:function(e,a){return c.a.createElement(Ae,ae()({innerRef:e},a))}}),c.a.createElement("span",{className:ua("Units")},u)))}ma.propTypes={className:Q.a.string,id:Q.a.string.isRequired,name:Q.a.string.isRequired,value:Q.a.oneOfType([Q.a.string,Q.a.number]),label:Q.a.string.isRequired,palceholder:Q.a.string,min:Q.a.string,max:Q.a.string,units:Q.a.string.isRequired,onChange:Q.a.func};var da=ma,pa=Object(X.cn)("SettingsForm");function ba(e){var a=e.className,t=e.initialSettings,n=e.onSubmit,r=e.onCancel,s=ia({initialValues:t,onSubmit:n}),i=s[0],l=i.values,o=i.errors,u=i.submitting,m=s[1],d=s[2];return c.a.createElement("section",{className:Object(K.classnames)(a,pa())},c.a.createElement("h3",{className:pa("Title")},"Settings"),c.a.createElement("p",{className:pa("Text")},"Configure repository connection and synchronization settings."),c.a.createElement("form",{className:pa("Form"),onSubmit:d},c.a.createElement("fieldset",{className:pa("Fieldset")},c.a.createElement(Ue,{className:pa("Field"),name:"repoName",value:l.repoName,label:"GitHub repository",palceholder:"user-name/repo-name",required:!0,onChange:m("repoName")}),c.a.createElement(Ue,{className:pa("Field"),id:"buildCommand",name:"buildCommand",value:l.buildCommand,label:"Build command",palceholder:"npm run build",required:!0,onChange:m("buildCommand")}),c.a.createElement(Ue,{className:pa("Field"),id:"mainBranch",name:"mainBranch",value:l.mainBranch,label:"Main branch",palceholder:"master",onChange:m("mainBranch")}),c.a.createElement(da,{className:pa("Field"),id:"period",name:"period",value:l.period,label:"Synchronize every",palceholder:"999",units:"minutes",min:"0",max:"999",onChange:m("period")})),c.a.createElement("div",{className:pa("Footer")},c.a.createElement(fe,{className:pa("Button"),theme:"action",label:"Save",type:"submit",disabled:!!o||u}),c.a.createElement(fe,{className:pa("Button"),label:"Cancel",disabled:u,onClick:r}))))}ba.propTypes={className:Q.a.string,initialSettings:Q.a.object,onSubmit:Q.a.func,onCancel:Q.a.func};var fa=ba,ga=Object(X.cn)("SettingsPage");function va(e){var a=e.className,t=e.history,n=e.settings,r=e.saveSettings,s=ea(),i=s.onError,l=s.onSuccess;return c.a.createElement("div",{className:Object(K.classnames)(a,ga())},c.a.createElement(ie,{className:ga("Header")},c.a.createElement(ie.Title,null,"School CI server")),c.a.createElement("main",{className:ga("Main")},c.a.createElement("div",{className:Object(K.classnames)(ga("Container"),"Container")},c.a.createElement(fa,{className:ga("Settings"),initialSettings:n,onSubmit:function(e){return r(e).then((function(){l("Settings successfully saved"),t.push("/history")})).catch((function(e){return i(e.message)}))},onCancel:function(){return t.goBack()}}))),c.a.createElement(de,{className:ga("Footer")}))}va.propTypes={className:Q.a.string,history:Q.a.shape({push:Q.a.func,goBack:Q.a.func}).isRequired,settings:Q.a.object,saveSettings:Q.a.func};var ha=va;var Na=Object(o.b)((function(e){return{settings:T(e)}}),{saveSettings:function(e){return function(a){return C.Settings.saveSettings(e).then((function(){a(w(e))}))}}})(ha),Ea=(t("eUxx"),t("YavU")),Oa=t.n(Ea),ya=(t("2y0T"),Object(X.cn)("ConsoleLog")),ja=new Oa.a({fg:"#000",bg:"#000"});function Ca(e){var a=e.className,t=e.children,n=t?ja.toHtml(t):null;return c.a.createElement("div",{className:Object(K.classnames)(a,ya())},c.a.createElement("pre",{className:ya("Wrappper"),dangerouslySetInnerHTML:{__html:n}}))}Ca.propTypes={className:Q.a.string,children:Q.a.string};var Sa=Ca,Ta=Object(X.cn)("BuildDetailsPage");function wa(e){var a=e.className,t=e.history,n=e.match,r=e.buildCard,i=e.buildLogs,l=e.repoName,o=e.fetchBuildById,u=e.fetchBuildLogsById,m=n&&n.params.id;return Object(s.useEffect)((function(){o(m),u(m)}),[]),c.a.createElement("div",{className:Object(K.classnames)(a,Ta())},c.a.createElement(ie,{className:Ta("Header")},c.a.createElement(ie.Title,{accent:!0},l),c.a.createElement(ie.Aside,{className:Ta("Aside")},c.a.createElement(fe,{adaptive:!0,label:"Rebuild",iconName:"rebuild",size:"s"}),c.a.createElement(fe,{label:"Settings",iconName:"settings",size:"s",view:"tile",onClick:function(){return t.push("/settings")}}))),c.a.createElement("main",{className:Ta("Main")},c.a.createElement("div",{className:Object(K.classnames)(Ta("Container"),"Container")},c.a.createElement("section",{className:Ta("Details")},c.a.createElement("h3",{className:Ta("Title")},"BuildDetailsPage"),c.a.createElement(ke,{className:"BuildDetailsPage-Card",view:"details",card:r}),c.a.createElement(Sa,{className:Ta("Log")},i||"Loading log...")))),c.a.createElement(de,null))}wa.propTypes={className:Q.a.string,history:Q.a.shape({push:Q.a.func}).isRequired,match:Q.a.shape({params:Q.a.shape({id:Q.a.string})}),buildCard:Q.a.object,buildLogs:Q.a.string,repoName:Q.a.string,fetchBuildById:Q.a.func,fetchBuildLogsById:Q.a.func};var Ba=wa;var Ia=Object(o.b)((function(e,a){var t=a.match,n=t&&t.params.id;return{buildCard:x(e,n),buildLogs:k(e,n),repoName:function(e,a){var t=T(e);return t&&t[a]}(e,"repoName")}}),{fetchBuildById:function(e){return function(a,t){var n=t(),r=x(n,e);return r?Promise.resolve(r):C.Builds.fetchBuildById(e).then((function(e){var t=e.data;return a({type:"@builds/STORE_BUILD",payload:t}),t}))}},fetchBuildLogsById:function(e){return function(a,t){var n=t(),r=k(n,e);return r?Promise.resolve(r):C.Builds.fetchBuildLogsById(e).then((function(t){var n=t.data;return a(function(e,a){return{type:"@builds/STORE_BUILD_LOG",meta:{id:e},payload:a}}(e,n)),n}))}}})(Ba);var Pa=function(){return c.a.createElement(U.a,null,c.a.createElement(G.d,null,c.a.createElement(G.b,{exact:!0,path:"/",component:ra}),c.a.createElement(G.b,{path:"/settings",component:Na}),c.a.createElement(G.b,{path:"/build/:id",component:Ia}),c.a.createElement(G.b,{render:function(){return c.a.createElement(G.a,{to:"/"})}})))};l.a.render(c.a.createElement(o.a,{store:z},c.a.createElement(u.ToastProvider,null,c.a.createElement(Pa,null))),document.getElementById("app"))},P7Li:function(e,a,t){},QblC:function(e,a,t){},TBfp:function(e,a,t){},dD1Q:function(e,a,t){},dwnn:function(e,a,t){},e91i:function(e,a,t){},eUxx:function(e,a,t){},fmwg:function(e,a,t){},hNfh:function(e,a,t){},p0Xn:function(e,a,t){},ptCH:function(e,a,t){},qVcC:function(e,a,t){},qYat:function(e,a,t){},qhG4:function(e,a,t){},rfz6:function(e,a,t){},uvrI:function(e,a,t){}},[["O14P",1,2]]]);