(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2y0T":function(e,t,a){},"8V2m":function(e,t,a){},"8ioV":function(e,t,a){},CSbY:function(e,t,a){},ErKr:function(e,t,a){},GuXe:function(e,t,a){},P7Li:function(e,t,a){},QblC:function(e,t,a){},TBfp:function(e,t,a){},dD1Q:function(e,t,a){},dwnn:function(e,t,a){},e91i:function(e,t,a){},eUxx:function(e,t,a){},fmwg:function(e,t,a){},hNfh:function(e,t,a){},ijGc:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchBuilds",(function(){return E})),a.d(n,"fetchBuildById",(function(){return v})),a.d(n,"fetchBuildLogsById",(function(){return N})),a.d(n,"queueBuild",(function(){return O}));var c={};a.r(c),a.d(c,"fetchSettings",(function(){return g})),a.d(c,"saveSettings",(function(){return h}));var r=a("q1tI"),s=a.n(r),l=a("i8i4"),i=a.n(l),o=a("/MKj"),u=(a("qVcC"),a("ANjH")),m=a("5HXA"),d=a("sINF"),b=a("vDqi"),f=a.n(b).a.create({baseURL:"http://127.0.0.1:3030/api"});f.interceptors.response.use((function(e){var t=e.data;if(t&&t.error)throw t.message=t.message||"Ошибка. Попробуйте повторить попытку позже.",t;return t}));var p=f;function E(e,t){return p.get("/builds",{params:{offset:e,limit:t}})}function v(e){return p.get("/builds/"+e)}function N(e){return p.get("/builds/"+e+"/logs")}function O(e){return p.post("/builds/"+e)}function g(){return p.get("/settings")}function h(e){return p.post("/settings",e)}var j={Builds:n,Settings:c},C=a("G4qV"),y=function(e){return e.builds},w=function(e){return y(e).buildsMap},S=function(e,t){return w(e)[t]},k=function(e,t){return function(e){return y(e).buildsLogsMap}(e)[t]},_=Object(C.a)([function(e){return y(e).buildsIds},w],(function(e,t){return e.map((function(e){return t[e]})).sort((function(e,t){return t.buildNumber-e.buildNumber}))}));function T(e,t){return function(a){return j.Builds.fetchBuilds(e,t).then((function(e){var t=e.data;a({type:"@builds/STORE_BUILDS",payload:t})}))}}function B(e){return function(t,a){var n=a(),c=S(n,e);return c?Promise.resolve(c):j.Builds.fetchBuildById(e).then((function(e){var a=e.data;return t({type:"@builds/STORE_BUILD",payload:a}),a}))}}var I=a("lSNA"),D=a.n(I);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){D()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x={buildsIds:[],buildsMap:{},buildsLogsMap:{}};function H(e){return{type:"@settings/STORE_SETTINGS",payload:e}}function M(e){return function(t){return t(function(e){return function(t){return j.Settings.saveSettings(e).then((function(e){var a=e.data.settings;return t(H(a)),a}))}}(e)).then((function(e){return t(T()),e}))}}function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var A,F={values:{}},R=function(e){return function(e){return e.settings}(e).values},G=function(e){return R(e).repoName},V=Object(u.combineReducers)(((A={}).settings=function(e,t){switch(void 0===e&&(e=F),t.type){case"@settings/STORE_SETTINGS":return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){D()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{values:t.payload});default:return e}},A.builds=function(e,t){var a,n;switch(void 0===e&&(e=x),t.type){case"@builds/STORE_BUILDS":return L({},e,{buildsIds:t.payload.map((function(e){return e.id})),buildsMap:t.payload.reduce((function(e,t){return e[t.id]=t,e}),{})});case"@builds/STORE_BUILD":return L({},e,{buildsIds:e.buildsIds.includes(t.payload.id)?e.buildsIds:[t.payload.id].concat(e.buildsIds),buildsMap:L({},e.buildsMap,(a={},a[t.payload.id]=t.payload,a))});case"@builds/STORE_BUILD_LOG":return L({},e,{buildsLogsMap:L({},e.buildsLogsMap,(n={},n[t.meta.id]=t.payload,n))});default:return e}},A)),W=Object(m.composeWithDevTools)(Object(u.applyMiddleware)(d.a)),z=a("55Ip"),U=a("V/vL"),Y=a("tbn6"),X=a("Ty5D"),Q=a("Dps+"),K=a("HPh+"),J=a("9Koi"),Z=(a("dD1Q"),a("pVnL")),$=a.n(Z),ee=(a("qhG4"),a("8OQS")),te=a.n(ee),ae=(a("TBfp"),Object(Q.cn)("Title")),ne=function(e){var t=e.accent,a=te()(e,["accent"]);return s.a.createElement("h1",$()({},a,{className:Object(K.classnames)(a.className,ae({accent:t}))}))},ce=Object(Q.cn)("PageHeader"),re=function(e){var t=e.className,a=e.children;return s.a.createElement("header",{className:Object(K.classnames)(t,ce())},s.a.createElement("div",{className:Object(K.classnames)(ce("Container"),"Container")},a))};re.Title=function(e){return s.a.createElement(ne,$()({},e,{className:Object(K.classnames)(e.className,ce("Title")),"data-test":"title"}))},re.Aside=function(e){return s.a.createElement("div",$()({},e,{className:Object(K.classnames)(e.className,ce("Aside")),"data-test":"aside"}))};var se=re,le=(a("ErKr"),a("ptCH"),Object(Q.cn)("Link")),ie=function(e){var t=e.label,a=e.children,n=te()(e,["label","children"]);return s.a.createElement("a",$()({},n,{className:Object(K.classnames)(n.className,le())}),t,a)},oe=Object(Q.cn)("PageFooter"),ue=function(e){var t=Object(J.a)(),a=t.t,n=t.i18n,c=Object(r.useCallback)((function(e){e.preventDefault(),n.changeLanguage(a("lang_value"))}),[n]);return s.a.createElement("footer",{className:Object(K.classnames)(e.className,oe())},s.a.createElement("div",{className:Object(K.classnames)(oe("Container"),"Container")},s.a.createElement("ul",{className:oe("Menu")},s.a.createElement("li",{className:oe("Item")},s.a.createElement(ie,{href:"#support",label:a("support_label")})),s.a.createElement("li",{className:oe("Item")},s.a.createElement(ie,{href:"#learning",label:a("learning_label")})),s.a.createElement("li",{className:oe("Item")},s.a.createElement(ie,{href:"#",label:a("lang_label"),onClick:c}))),s.a.createElement("div",{className:oe("Copyright")},"©2020 Your Name")))},me=(a("e91i"),Object(Q.cn)("Button")),de=function(e){var t=e.className,a=e.label,n=e.iconName,c=e.theme,r=e.size,l=e.view,i=e.adaptive,o=te()(e,["className","label","iconName","theme","size","view","adaptive"]),u={theme:c,size:r,view:l,adaptive:i};return s.a.createElement("button",$()({type:"button"},o,{className:Object(K.classnames)(t,me(u))}),s.a.createElement("span",{className:me("Wrapper")},!!n&&s.a.createElement("svg",{className:me("Icon"),width:"12",height:"12"},s.a.createElement("use",{xlinkHref:"#"+n})),s.a.createElement("span",{className:me("Label")},a)))};de.defaultProps={type:"button"};var be=de,fe=Object(Q.cn)("MainPage"),pe=function(e){var t=e.className,a=e.history,n=Object(J.a)().t,c=Object(r.useCallback)((function(){return a.push("/settings")}),[a]);return s.a.createElement("div",{className:Object(K.classnames)(t,fe()),"data-test":"main-page"},s.a.createElement(se,{className:fe("Header")},s.a.createElement(se.Title,null,"School CI server"),s.a.createElement(se.Aside,null,s.a.createElement(be,{adaptive:!0,label:n("settings_label"),iconName:"settings","data-test":"btn-settings",size:"s",onClick:c}))),s.a.createElement("main",{className:fe("Main")},s.a.createElement("div",{className:Object(K.classnames)(fe("Container"),"Container")},s.a.createElement("section",{className:fe("Intro"),"data-test":"intro"},s.a.createElement("div",{className:fe("Wrapper")},s.a.createElement("svg",{className:fe("Logo"),width:"124",height:"124"},s.a.createElement("use",{xlinkHref:"#logo"})),s.a.createElement("p",{className:fe("Label")},n("settings_description")),s.a.createElement(be,{theme:"action",label:n("open_settings"),"data-test":"btn-settings",onClick:c}))))),s.a.createElement(ue,{className:fe("Footer")}))};a("8V2m");var Ee=function(){var e=Object(Y.useToasts)().addToast;return{onSuccess:Object(r.useCallback)((function(t){return e(t,{appearance:"success",autoDismiss:!0})}),[e]),onError:Object(r.useCallback)((function(t){return e(t,{appearance:"error",autoDismiss:!0})}),[e])}};var ve=function(e){var t=Object(o.b)(),a=Ee();return Object(r.useCallback)((function(n){n&&t(function(e){return function(t){return j.Builds.queueBuild(e).then((function(e){var a=e.data;return t(B(a.id))}))}}(n)).then((function(t){a.onSuccess("Build is successfully queued"),e&&e.push("/build/"+t.id)})).catch((function(e){return a.onError(e.message)}))}),[t,a,e])};var Ne=function(e){void 0===e&&(e=!1);var t=Object(r.useState)(e),a=t[0],n=t[1];return{isDialogOpen:a,openDialog:Object(r.useCallback)((function(){return n(!0)}),[n]),closeDialog:Object(r.useCallback)((function(){return n(!1)}),[n])}},Oe=a("pl0G"),ge=(a("rfz6"),a("P7Li"),Object(Q.cn)("CommitSpan")),he=function(e){return s.a.createElement("span",{className:Object(K.classnames)(e.className,ge()),"data-test":"commit"},s.a.createElement("span",{className:ge("Label")},"Commit: "),s.a.createElement("svg",{className:ge("Icon"),width:"16",height:"16"},s.a.createElement("use",{xlinkHref:"#code-commit"})),s.a.createElement("span",{className:ge("Branch"),"data-test":"branch"},e.branch),s.a.createElement("span",{className:ge("Hash"),"data-test":"hash"},e.hash))},je=(a("uvrI"),Object(Q.cn)("OwnerSpan")),Ce=function(e){return s.a.createElement("span",{className:Object(K.classnames)(e.className,je())},s.a.createElement("span",{className:je("Label")},"Author: "),s.a.createElement("svg",{className:je("Icon"),width:"16",height:"16"},s.a.createElement("use",{xlinkHref:"#user"})),s.a.createElement("span",{className:je("Name")},e.owner))},ye=a("sWYD"),we=a("rVOZ"),Se=a("iSMj"),ke=a("Se/U"),_e=(a("fmwg"),Object(Q.cn)("DateTime")),Te={ru:we.a,en:Se.a},Be={date:{iconName:"calendar",label:"Date",format:"d MMM, HH:mm"},time:{iconName:"stopwatch",label:"Time",format:"H '$t(hours)' m '$t(mins)'"}},Ie=function(e){var t=e.className,a=e.dateTime,n=e.view,c=Be[n],r=c.iconName,l=c.label,i=c.format,o=new Date(a),u=Object(J.a)(),m=u.t,d=u.i18n,b=Te[d.language];return s.a.createElement("span",{className:Object(K.classnames)(t,_e({view:n}))},!!r&&s.a.createElement("svg",{className:_e("Icon"),width:"16",height:"16"},s.a.createElement("use",{xlinkHref:"#"+r})),l&&s.a.createElement("span",{className:_e("Label")},l),Object(ke.a)(o)&&s.a.createElement("time",{className:_e("Time"),dateTime:a},Object(ye.a)(o,m(i),{locale:b})))};Ie.defaultProps={view:"date"};var De=Ie,Pe=Object(Q.cn)("BuildCard"),Le=function(e){var t=e.className,a=e.interactive,n=e.view,c=e.card,r=c.id,l=c.status,i=c.buildNumber,o=void 0===i?"--":i,u=c.commitMessage,m=c.branchName,d=c.commitHash,b=c.authorName,f=c.start,p=c.duration,E=void 0===p?0:p,v=Object(Oe.a)(new Date("1970-01-01T00:00:00.000"),E);return s.a.createElement("article",{className:Object(K.classnames)(t,Pe({status:l,interactive:a,view:n})),"data-test":"build-card","data-status":l,"data-id":r},s.a.createElement("div",{className:Pe("Wrapper")},s.a.createElement("div",{className:Pe("Status")},s.a.createElement("svg",{className:Pe("Icon"),width:"24",height:"24"},s.a.createElement("use",{xlinkHref:"#done"})),l),s.a.createElement("div",{className:Pe("Content")},s.a.createElement("h3",{className:Pe("Title")},s.a.createElement("span",{className:Pe("No")},"#"+o)," ",s.a.createElement("span",{className:Pe("Text")},u)),s.a.createElement("div",{className:Pe("Meta")},s.a.createElement(he,{className:Pe("Commit"),branch:m,hash:d}),s.a.createElement(Ce,{className:Pe("Owner"),owner:b}))),s.a.createElement("div",{className:Pe("Aside")},s.a.createElement(De,{className:Pe("Time"),view:"date",dateTime:f}),s.a.createElement(De,{className:Pe("Time"),view:"time",dateTime:v.toISOString()}))))},xe=a("9rZX"),He=a.n(xe),Me=(a("hNfh"),a("dwnn"),a("CSbY"),a("GuXe"),Object(Q.cn)("Input")),qe=function(e){var t=e.className,a=e.id,n=e.name,c=e.type,r=e.value,l=e.defaultValue,i=e.placeholder,o=e.min,u=e.max,m=e.textAlign,d=e.cleanable,b=e.innerRef,f=e.onChange,p=e.onClear;return s.a.createElement("div",{className:Object(K.classnames)(t,Me({textAlign:m,cleanable:d}))},s.a.createElement("input",{ref:b,className:Me("Control"),"data-test":"input",type:c,id:a,name:n,value:r,defaultValue:l,placeholder:i,min:o,max:u,onChange:f}),s.a.createElement("button",{className:Me("Clear",{hidden:!r}),"data-test":"clear",type:"button",onClick:p},s.a.createElement("svg",{className:Me("Icon"),width:"16",height:"16"},s.a.createElement("use",{xlinkHref:"#clear"})),"Clear"))};qe.defaultProps={type:"text"};var Ae=qe,Fe=Object(Q.cn)("TextInput"),Re=function(e){var t=e.className,a=e.id,n=e.name,c=e.label,l=e.value,i=void 0===l?"":l,o=e.placeholder,u=e.required,m=e.onChange,d=void 0===m?function(){}:m,b=Object(r.useCallback)((function(e){d(e.target.value)}),[d]),f=Object(r.useCallback)((function(){d("")}),[d]);return s.a.createElement("div",{className:Object(K.classnames)(t,Fe({required:u}))},!!c&&s.a.createElement("label",{className:Fe("Label"),"data-test":"label",htmlFor:n},c),s.a.createElement(Ae,{className:Fe("Control"),id:a,name:n,value:i,placeholder:o,cleanable:!0,onChange:b,onClear:f}))},Ge=Object(Q.cn)("NewBuildForm"),Ve=function(e){var t=e.className,a=e.onSubmit,n=e.onCancel,c=Object(J.a)().t,l=Object(r.useState)(""),i=l[0],o=void 0===i?"":i,u=l[1],m=Object(r.useCallback)((function(e){e.preventDefault(),a&&a({commit:o})}),[o]);return s.a.createElement("section",{className:Object(K.classnames)(t,Ge()),"data-test":"new-build-form"},s.a.createElement("h3",{className:Ge("Title")},c("new_build_title")),s.a.createElement("form",{className:Ge("Form"),"data-test":"form",onSubmit:m},s.a.createElement("p",{className:Ge("Text")},c("new_build_description")),s.a.createElement(Re,{id:"commit",name:"commit",value:o,"data-test":"commit",placeholder:c("commit_hash_label"),onChange:u}),s.a.createElement("div",{className:Ge("Footer")},s.a.createElement(be,{className:Ge("Button"),"data-test":"submit",type:"submit",theme:"action",label:c("run_build_label"),disabled:!o}),s.a.createElement(be,{className:Ge("Button"),"data-test":"cancel",theme:"secondary",label:c("cancel_label"),onClick:n}))))};He.a.setAppElement("#app");var We=Object(Q.cn)("NewBuildDialog"),ze=function(e){return s.a.createElement(He.a,{isOpen:e.isOpen,portalClassName:We(),closeTimeoutMS:300,className:{base:We("Wrapper"),afterOpen:We("Wrapper",{entered:!0}),beforeClose:We("Wrapper",{leave:!0})},overlayClassName:{base:We("Overlay"),afterOpen:We("Overlay",{entered:!0}),beforeClose:We("Overlay",{leave:!0})},bodyOpenClassName:"Page_noscroll",onRequestClose:e.onCancel},s.a.createElement("div",{className:We("Content")},s.a.createElement(Ve,{onSubmit:e.onSubmit,onCancel:e.onCancel})))},Ue=Object(Q.cn)("BuildHistoryPage"),Ye=function(e){var t=e.className,a=e.history,n=Object(J.a)().t,c=Object(o.c)(G),l=Object(o.c)(_),i=Object(o.b)(),u=ve(a),m=Ne(),d=m.isDialogOpen,b=m.openDialog,f=m.closeDialog;return Object(r.useEffect)((function(){l||i(T())}),[]),s.a.createElement("div",{className:Object(K.classnames)(t,Ue()),"data-test":"build-history-page"},s.a.createElement(se,{className:Ue("Header")},s.a.createElement(se.Title,{accent:!0},s.a.createElement(z.b,{to:"/",className:Ue("Link")},c)),s.a.createElement(se.Aside,{className:Ue("Aside")},s.a.createElement(be,{adaptive:!0,label:n("run_build_label"),iconName:"play","data-test":"btn-build",size:"s",onClick:b}),s.a.createElement(be,{label:n("settings_label"),iconName:"settings","data-test":"btn-settings",size:"s",view:"tile",onClick:function(){return a.push("/settings")}}))),s.a.createElement("main",{className:Ue("Main")},s.a.createElement("div",{className:Object(K.classnames)(Ue("Container"),"Container")},s.a.createElement("section",{className:Ue("History")},s.a.createElement("ul",{className:Ue("Items"),"data-test":"card-items"},l.map((function(e){return s.a.createElement("li",{className:Ue("Item"),key:e.id},s.a.createElement(z.b,{to:"/build/"+e.id,className:Ue("Link"),"data-test":"card-link"},s.a.createElement(Le,{interactive:!0,card:e})))}))),l.length>0&&s.a.createElement(be,{className:Ue("More"),label:n("show_more_label"),size:"s"}))),s.a.createElement(ze,{isOpen:d,onCancel:f,onSubmit:function(e){var t=e.commit;f(),u(t)}})),s.a.createElement(ue,null))},Xe=function(e){return Object(o.c)(R)?s.a.createElement(Ye,e):s.a.createElement(pe,e)};a("p0Xn");var Qe=function(e,t){var a=Object(o.b)(),n=Ee();return Object(r.useCallback)((function(c){return a(M(c)).then((function(t){e&&e(t),n.onSuccess("Settings successfully saved")})).catch((function(e){t&&t(e),n.onError("Can not save settings: "+e.message)}))}),[a,e,t,n])};a("qYat");var Ke=function(e,t){void 0===t&&(t=!1);var a=Object(r.useRef)(!0),n=Object(r.useState)(t),c=n[0],s=n[1],l=Object(r.useCallback)((function(){return s(!0),Promise.resolve(e.apply(void 0,arguments)).then((function(e){return a.current&&s(!1),e})).catch((function(e){throw a.current&&s(!1),e}))}),[e]);return Object(r.useEffect)((function(){return function(){a.current=!1}}),[]),[c,l]};function Je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Ze,$e=function(e){var t=e.initial,a=e.onSubmit,n=Object(r.useState)(t),c=n[0],s=n[1],l=Ke(a),i=l[0],o=l[1],u={values:c,errors:function(e){var t={};return e.repoName?e.buildCommand?null:(t.buildCommand="Build command is required",t):(t.repoName="GitHub repository is required",t)}(c),submitting:i};return Object(r.useEffect)((function(){s(t)}),[t]),[u,function(e){return function(t){s((function(a){var n;return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(a),!0).forEach((function(t){D()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Je(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a,((n={})[e]=t,n))}))}},o]},et=a("tAlu"),tt=a.n(et),at=(a("8ioV"),Object(Q.cn)("NumericInput")),nt=function(e){var t=e.className,a=e.id,n=e.name,c=e.label,l=e.value,i=e.min,o=e.max,u=e.placeholder,m=e.units,d=e.onChange,b=void 0===d?function(){}:d,f=Object(r.useCallback)((function(e){return b(e.target.value)}),[b]);return s.a.createElement("div",{className:Object(K.classnames)(t,at())},s.a.createElement("div",{className:at("Wrapper")},!!c&&s.a.createElement("label",{className:at("Label"),"data-test":"label",htmlFor:a},c),s.a.createElement(tt.a,{mask:[/\d/,/\d/,/\d/],guide:!1,className:at("Control"),id:a,name:n,value:l,placeholder:u,type:"text",min:i,max:o,onChange:f,render:function(e,t){return s.a.createElement(Ae,$()({},t,{innerRef:e,textAlign:"right"}))}}),s.a.createElement("span",{className:at("Units"),"data-test":"units"},m)))},ct=Object(Q.cn)("SettingsForm"),rt=function(e){var t=e.className,a=e.initial,n=e.onSubmit,c=e.onCancel,l=Object(J.a)().t,i=$e({initial:a,onSubmit:n}),o=i[0],u=o.values,m=o.errors,d=o.submitting,b=i[1],f=i[2],p=Object(r.useCallback)((function(e){e.preventDefault(),f(u)}),[f,u]);return s.a.createElement("section",{className:Object(K.classnames)(t,ct()),"data-test":"settings-form"},s.a.createElement("h3",{className:ct("Title"),"data-test":"title"},l("settings_title")),s.a.createElement("p",{className:ct("Text")},l("settings_description")),s.a.createElement("form",{className:ct("Form"),"data-test":"form",onSubmit:p},s.a.createElement("fieldset",{className:ct("Fieldset")},s.a.createElement(Re,{className:ct("Field"),"data-test":"repoName",id:"repoName",name:"repoName",value:u.repoName,label:l("repo_name_label"),placeholder:"user-name/repo-name",required:!0,onChange:b("repoName")}),s.a.createElement(Re,{className:ct("Field"),"data-test":"buildCommand",id:"buildCommand",name:"buildCommand",value:u.buildCommand,label:l("build_command_label"),placeholder:"npm run build",required:!0,onChange:b("buildCommand")}),s.a.createElement(Re,{className:ct("Field"),"data-test":"mainBranch",id:"mainBranch",name:"mainBranch",value:u.mainBranch,label:l("main_branch_label"),placeholder:"master",onChange:b("mainBranch")}),s.a.createElement(nt,{className:ct("Field"),"data-test":"period",id:"period",name:"period",value:u.period,label:l("period_label"),placeholder:"999",units:l("period_units"),min:"0",max:"999",onChange:b("period")})),s.a.createElement("div",{className:ct("Footer")},s.a.createElement(be,{className:ct("Button"),"data-test":"submit",theme:"action",label:l("submit_label"),type:"submit",disabled:!!m||d}),s.a.createElement(be,{className:ct("Button"),"data-test":"cancel",label:l("cancel_label"),disabled:d,onClick:c}))))},st=Object(Q.cn)("SettingsPage"),lt=function(e){var t=e.className,a=e.history,n=Object(o.c)(R),c=Qe(Object(r.useCallback)((function(){return a.push("/history")}),[a]));return s.a.createElement("div",{className:Object(K.classnames)(t,st()),"data-test":"settings-page"},s.a.createElement(se,{className:st("Header")},s.a.createElement(se.Title,null,s.a.createElement(z.b,{to:"/",className:st("Link")},"School CI server"))),s.a.createElement("main",{className:st("Main")},s.a.createElement("div",{className:Object(K.classnames)(st("Container"),"Container")},s.a.createElement(rt,{className:st("Settings"),initial:n,onSubmit:c,onCancel:function(){return a.goBack()}}))),s.a.createElement(ue,{className:st("Footer")}))},it=(a("eUxx"),a("YavU")),ot=a.n(it),ut=(a("2y0T"),Object(Q.cn)("ConsoleLog")),mt=new ot.a({fg:"#000",bg:"#000"}),dt=function(e){return s.a.createElement("div",{className:Object(K.classnames)(e.className,ut()),"data-test":"console-log"},s.a.createElement("pre",{className:ut("Wrappper"),dangerouslySetInnerHTML:{__html:"string"==typeof e.children?mt.toHtml(e.children):""}}))},bt=Object(Q.cn)("BuildDetailsPage"),ft=[{path:"/",exact:!0,component:Xe},{path:"/settings",component:lt},{path:"/build/:id",component:function(e){var t=e.className,a=e.history,n=e.match,c=n&&n.params.id,l=Object(J.a)().t,i=Object(o.c)(G),u=Object(o.c)((function(e){return S(e,c)})),m=Object(o.c)((function(e){return k(e,c)})),d=Object(o.b)(),b=(u||{}).commitHash,f=ve(a);return Object(r.useEffect)((function(){var e;d(B(c)),d((e=c,function(t,a){var n=a(),c=k(n,e);return c?Promise.resolve(c):j.Builds.fetchBuildLogsById(e).then((function(a){var n=a.data;return t(function(e,t){return{type:"@builds/STORE_BUILD_LOG",meta:{id:e},payload:t}}(e,n)),n}))}))}),[c]),s.a.createElement("div",{className:Object(K.classnames)(t,bt()),"data-test":"build-details-page"},s.a.createElement(se,{className:bt("Header")},s.a.createElement(se.Title,{accent:!0},s.a.createElement(z.b,{to:"/",className:bt("Link")},i)),s.a.createElement(se.Aside,{className:bt("Aside")},s.a.createElement(be,{adaptive:!0,label:l("rebuild_label"),iconName:"rebuild","data-test":"btn-rebuild",size:"s",onClick:function(){return f(b)}}),s.a.createElement(be,{label:l("settings_label"),iconName:"settings","data-test":"btn-settings",size:"s",view:"tile",onClick:function(){return a.push("/settings")}}))),s.a.createElement("main",{className:bt("Main")},s.a.createElement("div",{className:Object(K.classnames)(bt("Container"),"Container")},s.a.createElement("section",{className:bt("Details"),"data-test":"details"},s.a.createElement("h3",{className:bt("Title")},"BuildDetailsPage"),s.a.createElement(Le,{className:"BuildDetailsPage-Card",view:"details",card:u}),s.a.createElement(dt,{className:bt("Log")},m||"Loading log...")))),s.a.createElement(ue,null))}},{render:function(){return s.a.createElement(X.a,{to:"/"})}}],pt=function(){return s.a.createElement(Y.ToastProvider,null,s.a.createElement(z.a,null,Object(U.a)(ft)))},Et=a("tbcY"),vt=(Object(Et.a)()((function(e){return s.a.createElement(Y.ToastProvider,null,s.a.createElement(X.d,{location:e.location},Object(U.a)(ft)))})),a("QblC"),Object(Q.cn)("Loader")),Nt=function(e){var t=e.className,a=e.center;return s.a.createElement("div",{className:Object(K.classnames)(t,vt({center:a}))},s.a.createElement("div",{className:vt("Wrap")}))},Ot=a("XzT5"),gt=a("QSL9"),ht=a("RcEC"),jt=a("Fugr"),Ct=(Ot.a.use(ht.a).use(jt.a).use(gt.f).init({ns:["translation"],defaultNS:"translation",fallbackLng:!1,nsSeparator:!1,load:"languageOnly",pluralSeparator:"__",contextSeparator:"__",interpolation:{escapeValue:!1},backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"},detection:{lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["cookie","localStorage"],order:["cookie","localStorage","navigator"]}}),Ze=window.__INITIAL_STATE__,Object(u.createStore)(V,Ze,W)),yt=document.getElementById("app"),wt=s.a.createElement(o.a,{store:Ct},s.a.createElement(r.Suspense,{fallback:s.a.createElement(Nt,{center:!0})},s.a.createElement(pt,null)));i.a.hydrate(wt,yt),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("worker.js").then((function(){})).catch((function(e){}))}))},p0Xn:function(e,t,a){},ptCH:function(e,t,a){},qVcC:function(e,t,a){},qYat:function(e,t,a){},qhG4:function(e,t,a){},rfz6:function(e,t,a){},uvrI:function(e,t,a){}},[["ijGc",1,2]]]);