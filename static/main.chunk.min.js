(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2y0T":function(e,a,t){},"8V2m":function(e,a,t){},"8ioV":function(e,a,t){},CSbY:function(e,a,t){},ErKr:function(e,a,t){},GuXe:function(e,a,t){},O14P:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"fetchBuilds",(function(){return v})),t.d(n,"fetchBuildById",(function(){return N})),t.d(n,"fetchBuildLogsById",(function(){return h})),t.d(n,"queueBuild",(function(){return E}));var r={};t.r(r),t.d(r,"fetchSettings",(function(){return O})),t.d(r,"saveSettings",(function(){return y}));var s=t("q1tI"),c=t.n(s),i=t("i8i4"),l=t.n(i),o=t("/MKj"),m=t("ANjH"),u=t("sINF"),d=t("lSNA"),p=t.n(d),b=t("vDqi"),f=t.n(b).a.create({baseURL:"http://127.0.0.1:3030/api"});f.interceptors.response.use((function(e){return e.data}));var g=f;function v(e,a){return g.get("/builds",{params:{offset:e,limit:a}})}function N(e){return g.get("/builds/"+e)}function h(e){return g.get("/builds/"+e+"/logs")}function E(e){return g.post("/builds/"+e)}function O(){return g.get("/settings")}function y(e){return g.post("/settings",e)}var j={Builds:n,Settings:r},C=t("G4qV");function S(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?S(Object(t),!0).forEach((function(a){p()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var w=function(e){return e.builds},B=function(e){return w(e).buildsMap},P=function(e,a){return B(e)[a]},I=function(e,a){return function(e){return w(e).buildsLogsMap}(e)[a]},D=Object(C.a)([function(e){return w(e).buildsIds},B],(function(e,a){return e.map((function(e){return a[e]})).sort((function(e,a){return a.buildNumber-e.buildNumber}))}));function L(e,a){return function(t){return j.Builds.fetchBuilds(e,a).then((function(e){var a=e.data;t({type:"@builds/STORE_BUILDS",payload:a})}))}}function k(e){return function(a,t){var n=t(),r=P(n,e);return r?Promise.resolve(r):j.Builds.fetchBuildById(e).then((function(e){var t=e.data;return a({type:"@builds/STORE_BUILD",payload:t}),t}))}}var x={buildsIds:[],buildsMap:{},buildsLogsMap:{}};function q(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var H=function(e){return function(e){return e.settings}(e).values},R=function(e){var a=H(e);return a&&a.repoName};function M(e){return{type:"@builds/STORE_SETTINGS",payload:e}}function A(e){return function(a){return a(function(e){return function(a){return j.Settings.saveSettings(e).then((function(){a(M(e))}))}}(e)).then((function(){a(L())}))}}var _,F={values:void 0},z=Object(m.c)(((_={}).settings=function(e,a){switch(void 0===e&&(e=F),a.type){case"@builds/STORE_SETTINGS":return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?q(Object(t),!0).forEach((function(a){p()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e,{values:a.payload});default:return e}},_.builds=function(e,a){var t,n;switch(void 0===e&&(e=x),a.type){case"@builds/STORE_BUILDS":return T({},e,{buildsIds:a.payload.map((function(e){return e.id})),buildsMap:a.payload.reduce((function(e,a){return e[a.id]=a,e}),{})});case"@builds/STORE_BUILD":return T({},e,{buildsIds:e.buildsIds.includes(a.payload.id)?e.buildsIds:[a.payload.id].concat(e.buildsIds),buildsMap:T({},e.buildsMap,(t={},t[a.payload.id]=a.payload,t))});case"@builds/STORE_BUILD_LOG":return T({},e,{buildsLogsMap:T({},e.buildsLogsMap,(n={},n[a.meta.id]=a.payload,n))});default:return e}},_));var U=t("17x9"),V=t.n(U),G=t("Ty5D"),W=t("55Ip"),Y=t("tbn6"),X=(t("qVcC"),t("Dps+")),K=t("HPh+"),Q=(t("dD1Q"),t("pVnL")),J=t.n(Q),Z=t("8OQS"),$=t.n(Z),ee=(t("qhG4"),t("TBfp"),Object(X.cn)("Title"));function ae(e){var a=e.className,t=e.accent,n=e.children,r=$()(e,["className","accent","children"]);return c.a.createElement("h1",J()({className:Object(K.classnames)(a,ee({accent:t}))},r),n)}ae.propTypes={className:V.a.string,accent:V.a.bool,children:V.a.any};var te=ae,ne=Object(X.cn)("PageHeader");function re(e){var a=e.className,t=e.children;return c.a.createElement("header",{className:Object(K.classnames)(a,ne())},c.a.createElement("div",{className:Object(K.classnames)(ne("Container"),"Container")},t))}re.Title=function(e){var a=e.className,t=$()(e,["className"]);return c.a.createElement(te,J()({},t,{className:Object(K.classnames)(a,ne("Title")),"data-test":"title"}))},re.Aside=function(e){var a=e.className,t=$()(e,["className"]);return c.a.createElement("div",J()({},t,{className:Object(K.classnames)(a,ne("Aside")),"data-test":"aside"}))},re.propTypes={className:V.a.string,children:V.a.any},re.Title.propTypes={className:V.a.string},re.Aside.propTypes={className:V.a.string};var se=re;t("ErKr"),t("ptCH");function ce(e){var a=e.href,t=e.label;return c.a.createElement("a",{className:"Link",href:a},t)}ce.propTypes={href:V.a.string.isRequired,label:V.a.string.isRequired};var ie=ce,le=Object(X.cn)("PageFooter");function oe(e){var a=e.className;return c.a.createElement("footer",{className:Object(K.classnames)(a,le())},c.a.createElement("div",{className:Object(K.classnames)(le("Container"),"Container")},c.a.createElement("ul",{className:le("Menu")},c.a.createElement("li",{className:le("Item")},c.a.createElement(ie,{href:"#support",label:"Support"})),c.a.createElement("li",{className:le("Item")},c.a.createElement(ie,{href:"#learning",label:"Learning"}))),c.a.createElement("div",{className:le("Copyright")},"©2020 Your Name")))}oe.propTypes={className:V.a.string};var me=oe,ue=(t("e91i"),Object(X.cn)("Button"));function de(e){var a=e.className,t=e.label,n=e.iconName,r=e.theme,s=e.size,i=e.view,l=e.adaptive,o=$()(e,["className","label","iconName","theme","size","view","adaptive"]),m={theme:r,size:s,view:i,adaptive:l};return c.a.createElement("button",J()({type:"button"},o,{className:Object(K.classnames)(a,ue(m))}),c.a.createElement("span",{className:ue("Wrapper")},!!n&&c.a.createElement("svg",{className:ue("Icon"),width:"12",height:"12"},c.a.createElement("use",{xlinkHref:"#"+n})),c.a.createElement("span",{className:ue("Label")},t)))}de.defaultProps={type:"button",theme:"normal"},de.propTypes={className:V.a.string,label:V.a.string,iconName:V.a.string,type:V.a.string,theme:V.a.string,size:V.a.string,view:V.a.string,adaptive:V.a.bool};var pe=de,be=Object(X.cn)("MainPage");function fe(e){var a=e.className,t=e.history,n=function(){return t.push("/settings")};return c.a.createElement("div",{className:Object(K.classnames)(a,be()),"data-test":"main-page"},c.a.createElement(se,{className:be("Header")},c.a.createElement(se.Title,null,"School CI server"),c.a.createElement(se.Aside,null,c.a.createElement(pe,{adaptive:!0,label:"Settings",iconName:"settings","data-test":"btn-settings",size:"s",onClick:n}))),c.a.createElement("main",{className:be("Main")},c.a.createElement("div",{className:Object(K.classnames)(be("Container"),"Container")},c.a.createElement("section",{className:be("Intro"),"data-test":"intro"},c.a.createElement("div",{className:be("Wrapper")},c.a.createElement("svg",{className:be("Logo"),width:"124",height:"124"},c.a.createElement("use",{xlinkHref:"#logo"})),c.a.createElement("p",{className:be("Label")},"Configure repository connection and synchronization settings"),c.a.createElement(pe,{theme:"action",label:"Open settings","data-test":"btn-settings",onClick:n}))))),c.a.createElement(me,{className:be("Footer")}))}fe.propTypes={className:V.a.string,history:V.a.shape({push:V.a.func}).isRequired};var ge=fe;t("8V2m");var ve=function(){var e=Object(Y.useToasts)().addToast;return{onSuccess:Object(s.useCallback)((function(a){return e(a,{appearance:"success",autoDismiss:!0})}),[e]),onError:Object(s.useCallback)((function(a){return e(a,{appearance:"error",autoDismiss:!0})}),[e])}};var Ne=function(e){var a=Object(o.b)(),t=ve();return Object(s.useCallback)((function(n){n&&a(function(e){return function(a){return j.Builds.queueBuild(e).then((function(e){var t=e.data;return a(k(t.id))}))}}(n)).then((function(a){var n=a.id;t.onSuccess("Build is successfully queued"),e&&e.push("/build/"+n)})).catch((function(e){return t.onError(e.message)}))}),[a,t,e])},he=(t("rfz6"),t("P7Li"),Object(X.cn)("CommitSpan"));function Ee(e){var a=e.className,t=e.branch,n=e.hash;return c.a.createElement("span",{className:Object(K.classnames)(a,he()),"data-test":"commit"},c.a.createElement("span",{className:he("Label")},"Commit: "),c.a.createElement("svg",{className:he("Icon"),width:"16",height:"16"},c.a.createElement("use",{xlinkHref:"#code-commit"})),c.a.createElement("span",{className:he("Branch"),"data-test":"branch"},t),c.a.createElement("span",{className:he("Hash"),"data-test":"hash"},n))}Ee.propTypes={className:V.a.string,branch:V.a.string,hash:V.a.string};var Oe=Ee,ye=(t("uvrI"),Object(X.cn)("OwnerSpan"));function je(e){var a=e.className,t=e.owner;return c.a.createElement("span",{className:Object(K.classnames)(a,ye())},c.a.createElement("span",{className:ye("Label")},"Author: "),c.a.createElement("svg",{className:ye("Icon"),width:"16",height:"16"},c.a.createElement("use",{xlinkHref:"#user"})),c.a.createElement("span",{className:ye("Name")},t))}je.propTypes={className:V.a.string,owner:V.a.string};var Ce=je,Se=t("sWYD"),Te=t("rVOZ"),we=t("Se/U"),Be=t("p+Ro"),Pe=(t("fmwg"),Object(X.cn)("DateTime")),Ie={date:{iconName:"calendar",label:"Date",format:"d MMM, HH:mm"},time:{iconName:"stopwatch",label:"Time",format:"H ч m мин"}};function De(e){var a=e.className,t=e.dateTime,n=e.view,r=Ie[n]||{},s=r.iconName,i=r.label,l=r.format,o=Object(Be.a)(t)?t:new Date(t);return c.a.createElement("span",{className:Object(K.classnames)(a,Pe({view:n}))},!!s&&c.a.createElement("svg",{className:Pe("Icon"),width:"16",height:"16"},c.a.createElement("use",{xlinkHref:"#"+s})),i&&c.a.createElement("span",{className:Pe("Label")},i),Object(we.a)(o)&&c.a.createElement("time",{className:Pe("Time"),dateTime:t},Object(Se.a)(o,l,{locale:Te.a})))}De.defaultProps={view:"date"},De.propTypes={className:V.a.string,dateTime:V.a.oneOfType([V.a.string,V.a.instanceOf(Date)]),view:V.a.oneOf(["date","time"])};var Le=De,ke=Object(X.cn)("BuildCard");function xe(e){var a=e.className,t=e.interactive,n=e.view,r=e.card,s=void 0===r?{}:r,i=s.id,l=s.status,o=s.buildNumber,m=void 0===o?"--":o,u=s.commitMessage,d=s.branchName,p=s.commitHash,b=s.authorName,f=s.start,g=s.duration,v=new Date((void 0===g?0:g)+ +new Date(0));return c.a.createElement("article",{className:Object(K.classnames)(a,ke({status:l,interactive:t,view:n})),"data-test":"build-card","data-status":l,"data-id":i},c.a.createElement("div",{className:ke("Wrapper")},c.a.createElement("div",{className:ke("Status")},c.a.createElement("svg",{className:ke("Icon"),width:"24",height:"24"},c.a.createElement("use",{xlinkHref:"#done"})),l),c.a.createElement("div",{className:ke("Content")},c.a.createElement("h3",{className:ke("Title")},c.a.createElement("span",{className:ke("No")},"#"+m)," ",c.a.createElement("span",{className:ke("Text")},u)),c.a.createElement("div",{className:ke("Meta")},c.a.createElement(Oe,{className:ke("Commit"),branch:d,hash:p}),c.a.createElement(Ce,{className:ke("Owner"),owner:b}))),c.a.createElement("div",{className:ke("Aside")},c.a.createElement(Le,{className:ke("Time"),view:"date",dateTime:f}),c.a.createElement(Le,{className:ke("Time"),view:"time",dateTime:v}))))}xe.propTypes={className:V.a.string,interactive:V.a.bool,view:V.a.string,card:V.a.shape({id:V.a.string,status:V.a.oneOf(["Waiting","InProgress","Success","Fail","Canceled"]),buildNumber:V.a.number,commitMessage:V.a.string,branchName:V.a.string,commitHash:V.a.string,authorName:V.a.string,start:V.a.string,duration:V.a.number})};var qe=xe,He=t("9rZX"),Re=t.n(He),Me=(t("hNfh"),t("dwnn"),t("CSbY"),t("GuXe"),Object(X.cn)("Input"));function Ae(e){var a=e.className,t=e.id,n=e.name,r=e.type,s=e.value,i=e.palceholder,l=e.min,o=e.max,m=e.textAlign,u=e.cleanable,d=e.innerRef,p=e.onChange;return c.a.createElement("div",{className:Object(K.classnames)(a,Me({textAlign:m,cleanable:u}))},c.a.createElement("input",{ref:d,className:Me("Control"),"data-test":"input",type:r,id:t,name:n,value:s,placeholder:i,min:l,max:o,onChange:function(e){return p(e.target.value)}}),c.a.createElement("button",{className:Me("Clear",{hidden:!s}),"data-test":"clear",type:"button",onClick:function(){return p("")}},c.a.createElement("svg",{className:Me("Icon"),width:"16",height:"16"},c.a.createElement("use",{xlinkHref:"#clear"})),"Clear"))}Ae.defaultProps={type:"text",onChange:function(){}},Ae.propTypes={className:V.a.string,id:V.a.string,name:V.a.string,type:V.a.string,value:V.a.oneOfType([V.a.string,V.a.number]),palceholder:V.a.string,min:V.a.string,max:V.a.string,textAlign:V.a.string,cleanable:V.a.bool,innerRef:V.a.any,onChange:V.a.func};var _e=Ae,Fe=Object(X.cn)("TextInput");function ze(e){var a=e.className,t=e.id,n=e.name,r=e.label,s=e.value,i=e.palceholder,l=e.required,o=e.onChange,m=$()(e,["className","id","name","label","value","palceholder","required","onChange"]);return c.a.createElement("div",J()({className:Object(K.classnames)(a,Fe({required:l}))},m),!!r&&c.a.createElement("label",{className:Fe("Label"),"data-test":"label",htmlFor:n},r),c.a.createElement(_e,{className:Fe("Control"),id:t,name:n,value:s,palceholder:i,cleanable:!0,onChange:o}))}ze.propTypes={className:V.a.string,id:V.a.string,name:V.a.string,value:V.a.string,label:V.a.string,palceholder:V.a.string,required:V.a.bool,onChange:V.a.func};var Ue=ze,Ve=Object(X.cn)("NewBuildForm");function Ge(e){var a=Object(s.useState)(""),t=a[0],n=a[1],r=e.className,i=e.onSubmit,l=e.onCancel;return c.a.createElement("section",{className:Object(K.classnames)(r,Ve()),"data-test":"new-build-form"},c.a.createElement("h3",{className:Ve("Title")},"New build"),c.a.createElement("form",{className:Ve("Form"),"data-test":"form",onSubmit:function(e){e.preventDefault(),i({commit:t})}},c.a.createElement("p",{className:Ve("Text")},"Configure repository connection and synchronization settings."),c.a.createElement(Ue,{id:"commit",name:"commit",value:t,"data-test":"commit",palceholder:"Commit hash",onChange:n}),c.a.createElement("div",{className:Ve("Footer")},c.a.createElement(pe,{className:Ve("Button"),"data-test":"submit",type:"submit",theme:"action",label:"Run build",disabled:!t}),c.a.createElement(pe,{className:Ve("Button"),"data-test":"cancel",theme:"secondary",label:"Cancel",onClick:l}))))}Ge.defaultProps={onSubmit:function(){}},Ge.propTypes={className:V.a.string,onSubmit:V.a.func,onCancel:V.a.func};var We=Ge;Re.a.setAppElement("#app");var Ye=Object(X.cn)("NewBuildDialog");function Xe(e){var a=e.isOpen,t=e.onSubmit,n=e.onCancel;return c.a.createElement(Re.a,{isOpen:a,portalClassName:Ye(),closeTimeoutMS:300,className:{base:Ye("Wrapper"),afterOpen:Ye("Wrapper",{entered:!0}),beforeClose:Ye("Wrapper",{leave:!0})},overlayClassName:{base:Ye("Overlay"),afterOpen:Ye("Overlay",{entered:!0}),beforeClose:Ye("Overlay",{leave:!0})},bodyOpenClassName:"Page_noscroll",onRequestClose:n},c.a.createElement("div",{className:Ye("Content")},c.a.createElement(We,{onSubmit:t,onCancel:n})))}Xe.propTypes={isOpen:V.a.bool,onSubmit:V.a.func,onCancel:V.a.func};var Ke=Xe,Qe=Object(X.cn)("BuildHistoryPage");function Je(e){var a=e.className,t=e.history,n=Object(o.c)(R),r=Object(o.c)(D),i=Object(o.b)(),l=Ne(t),m=Object(s.useState)(!1),u=m[0],d=m[1],p=function(){return d(!1)};return Object(s.useEffect)((function(){r||i(L())}),[]),c.a.createElement("div",{className:Object(K.classnames)(a,Qe()),"data-test":"build-history-page"},c.a.createElement(se,{className:Qe("Header")},c.a.createElement(se.Title,{accent:!0},c.a.createElement(W.b,{to:"/",className:Qe("Link")},n)),c.a.createElement(se.Aside,{className:Qe("Aside")},c.a.createElement(pe,{adaptive:!0,label:"Run build",iconName:"play","data-test":"btn-build",size:"s",onClick:function(){return d(!0)}}),c.a.createElement(pe,{label:"Settings",iconName:"settings","data-test":"btn-settings",size:"s",view:"tile",onClick:function(){return t.push("/settings")}}))),c.a.createElement("main",{className:Qe("Main")},c.a.createElement("div",{className:Object(K.classnames)(Qe("Container"),"Container")},c.a.createElement("section",{className:Qe("History")},c.a.createElement("h3",{className:Qe("Title")},"BuildHistoryPage"),c.a.createElement("ul",{className:Qe("Items"),"data-test":"card-items"},r.map((function(e){return void 0===e&&(e={}),c.a.createElement("li",{className:Qe("Item"),key:e.id},c.a.createElement(W.b,{to:"/build/"+e.id,className:Qe("Link"),"data-test":"card-link"},c.a.createElement(qe,{interactive:!0,card:e})))}))),r>0&&c.a.createElement(pe,{className:Qe("More"),label:"Show more",size:"s"}))),c.a.createElement(Ke,{isOpen:u,onCancel:p,onSubmit:function(e){var a=e.commit;p(),l(a)}})),c.a.createElement(me,null))}Je.propTypes={className:V.a.string,history:V.a.shape({push:V.a.func}).isRequired};var Ze=Je;var $e=function(e){return Object(o.c)(H)?c.a.createElement(Ze,e):c.a.createElement(ge,e)},ea=(t("p0Xn"),function(){});var aa=function(e){void 0===e&&(e={});var a=e,t=a.onSuccess,n=void 0===t?ea:t,r=a.onError,c=void 0===r?ea:r,i=Object(o.b)(),l=ve();return Object(s.useCallback)((function(e){return i(A(e)).then((function(){n(e),l.onSuccess("Settings successfully saved")})).catch((function(e){c(e),l.onError("Can not save settings: "+e.message)}))}),[i,n,c,l])};t("qYat");function ta(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function na(e){void 0===e&&(e={});var a=e,t=a.repoName,n=void 0===t?"":t,r=a.buildCommand,s=void 0===r?"":r,c=a.mainBranch,i=void 0===c?"":c,l=a.period;return{repoName:n,buildCommand:s,mainBranch:i,period:void 0===l?0:l}}var ra=function(e){var a=e.initialValues,t=e.onSubmit,n=Object(s.useRef)(!0),r=Object(s.useState)(!1),c=r[0],i=r[1],l=Object(s.useState)(na(a)),o=l[0],m=l[1],u=function(e){var a={};return e.repoName?e.buildCommand?null:(a.buildCommand="Build command is required",a):(a.repoName="GitHub repository is required",a)}(o);return Object(s.useEffect)((function(){m(na(a))}),[a]),Object(s.useEffect)((function(){return function(){n.current=!1}}),[]),[{values:o,errors:u,submitting:c},function(e){return function(a){m((function(t){var n;return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ta(Object(t),!0).forEach((function(a){p()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ta(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},t,((n={})[e]=a,n))}))}},function(e){e&&e.preventDefault(),i(!0),t(o).then((function(e){return n.current&&i(!1),e})).catch((function(e){throw n.current&&i(!1),e}))}]},sa=t("tAlu"),ca=t.n(sa),ia=(t("8ioV"),Object(X.cn)("NumericInput"));function la(e){var a=e.className,t=e.id,n=e.name,r=e.label,s=e.value,i=e.min,l=e.max,o=e.palceholder,m=e.units,u=e.onChange,d=$()(e,["className","id","name","label","value","min","max","palceholder","units","onChange"]);return c.a.createElement("div",J()({className:Object(K.classnames)(a,ia())},d),c.a.createElement("div",{className:ia("Wrapper")},!!r&&c.a.createElement("label",{className:ia("Label"),"data-test":"label",htmlFor:t},r),c.a.createElement(ca.a,{mask:[/\d/,/\d/,/\d/],guide:!1,className:ia("Control"),id:t,name:n,value:s,palceholder:o,type:"text",min:i,max:l,textAlign:"right",onChange:u,render:function(e,a){return c.a.createElement(_e,J()({innerRef:e},a))}}),c.a.createElement("span",{className:ia("Units"),"data-test":"units"},m)))}la.propTypes={className:V.a.string,id:V.a.string.isRequired,name:V.a.string.isRequired,value:V.a.oneOfType([V.a.string,V.a.number]),label:V.a.string.isRequired,palceholder:V.a.string,min:V.a.string,max:V.a.string,units:V.a.string.isRequired,onChange:V.a.func};var oa=la,ma=Object(X.cn)("SettingsForm");function ua(e){var a=e.className,t=e.initialSettings,n=e.onSubmit,r=e.onCancel,s=ra({initialValues:t,onSubmit:n}),i=s[0],l=i.values,o=i.errors,m=i.submitting,u=s[1],d=s[2];return c.a.createElement("section",{className:Object(K.classnames)(a,ma()),"data-test":"settings-form"},c.a.createElement("h3",{className:ma("Title"),"data-test":"title"},"Settings"),c.a.createElement("p",{className:ma("Text")},"Configure repository connection and synchronization settings."),c.a.createElement("form",{className:ma("Form"),"data-test":"form",onSubmit:d},c.a.createElement("fieldset",{className:ma("Fieldset")},c.a.createElement(Ue,{className:ma("Field"),"data-test":"repoName",name:"repoName",value:l.repoName,label:"GitHub repository",palceholder:"user-name/repo-name",required:!0,onChange:u("repoName")}),c.a.createElement(Ue,{className:ma("Field"),"data-test":"buildCommand",id:"buildCommand",name:"buildCommand",value:l.buildCommand,label:"Build command",palceholder:"npm run build",required:!0,onChange:u("buildCommand")}),c.a.createElement(Ue,{className:ma("Field"),"data-test":"mainBranch",id:"mainBranch",name:"mainBranch",value:l.mainBranch,label:"Main branch",palceholder:"master",onChange:u("mainBranch")}),c.a.createElement(oa,{className:ma("Field"),"data-test":"period",id:"period",name:"period",value:l.period,label:"Synchronize every",palceholder:"999",units:"minutes",min:"0",max:"999",onChange:u("period")})),c.a.createElement("div",{className:ma("Footer")},c.a.createElement(pe,{className:ma("Button"),"data-test":"submit",theme:"action",label:"Save",type:"submit",disabled:!!o||m}),c.a.createElement(pe,{className:ma("Button"),"data-test":"cancel",label:"Cancel",disabled:m,onClick:r}))))}ua.propTypes={className:V.a.string,initialSettings:V.a.object,onSubmit:V.a.func,onCancel:V.a.func};var da=ua,pa=Object(X.cn)("SettingsPage");function ba(e){var a=e.className,t=e.history,n=Object(o.c)(H),r=aa({onSuccess:Object(s.useCallback)((function(){return t.push("/history")}),[t])});return c.a.createElement("div",{className:Object(K.classnames)(a,pa()),"data-test":"settings-page"},c.a.createElement(se,{className:pa("Header")},c.a.createElement(se.Title,null,c.a.createElement(W.b,{to:"/",className:pa("Link")},"School CI server"))),c.a.createElement("main",{className:pa("Main")},c.a.createElement("div",{className:Object(K.classnames)(pa("Container"),"Container")},c.a.createElement(da,{className:pa("Settings"),initialSettings:n,onSubmit:r,onCancel:function(){return t.goBack()}}))),c.a.createElement(me,{className:pa("Footer")}))}ba.propTypes={className:V.a.string,history:V.a.shape({push:V.a.func,goBack:V.a.func}).isRequired};var fa=ba,ga=(t("eUxx"),t("YavU")),va=t.n(ga),Na=(t("2y0T"),Object(X.cn)("ConsoleLog")),ha=new va.a({fg:"#000",bg:"#000"});function Ea(e){var a=e.className,t=e.children,n=t?ha.toHtml(t):null;return c.a.createElement("div",{className:Object(K.classnames)(a,Na()),"data-test":"console-log"},c.a.createElement("pre",{className:Na("Wrappper"),dangerouslySetInnerHTML:{__html:n}}))}Ea.propTypes={className:V.a.string,children:V.a.string};var Oa=Ea,ya=Object(X.cn)("BuildDetailsPage");function ja(e){var a=e.className,t=e.history,n=e.match,r=n&&n.params.id,i=Object(o.c)(R),l=Object(o.c)((function(e){return P(e,r)})),m=Object(o.c)((function(e){return I(e,r)})),u=Object(o.b)(),d=(l||{}).commitHash,p=Ne(t);return Object(s.useEffect)((function(){var e;u(k(r)),u((e=r,function(a,t){var n=t(),r=I(n,e);return r?Promise.resolve(r):j.Builds.fetchBuildLogsById(e).then((function(t){var n=t.data;return a(function(e,a){return{type:"@builds/STORE_BUILD_LOG",meta:{id:e},payload:a}}(e,n)),n}))}))}),[r]),c.a.createElement("div",{className:Object(K.classnames)(a,ya()),"data-test":"build-details-page"},c.a.createElement(se,{className:ya("Header")},c.a.createElement(se.Title,{accent:!0},c.a.createElement(W.b,{to:"/",className:ya("Link")},i)),c.a.createElement(se.Aside,{className:ya("Aside")},c.a.createElement(pe,{adaptive:!0,label:"Rebuild",iconName:"rebuild","data-test":"btn-rebuild",size:"s",onClick:function(){return p(d)}}),c.a.createElement(pe,{label:"Settings",iconName:"settings","data-test":"btn-settings",size:"s",view:"tile",onClick:function(){return t.push("/settings")}}))),c.a.createElement("main",{className:ya("Main")},c.a.createElement("div",{className:Object(K.classnames)(ya("Container"),"Container")},c.a.createElement("section",{className:ya("Details"),"data-test":"details"},c.a.createElement("h3",{className:ya("Title")},"BuildDetailsPage"),c.a.createElement(qe,{className:"BuildDetailsPage-Card",view:"details",card:l}),c.a.createElement(Oa,{className:ya("Log")},m||"Loading log...")))),c.a.createElement(me,null))}ja.propTypes={className:V.a.string,history:V.a.shape({push:V.a.func}).isRequired,match:V.a.shape({params:V.a.shape({id:V.a.string})})};var Ca=ja;function Sa(e){var a=e.router,t=void 0===a?{}:a,n=!0===Object({NODE_ENV:"production"}).SSR?G.d:W.a,r=t.location,s=t.context;return c.a.createElement(Y.ToastProvider,null,c.a.createElement(n,{location:r,context:s},c.a.createElement(G.e,null,c.a.createElement(G.b,{exact:!0,path:"/",component:$e}),c.a.createElement(G.b,{path:"/settings",component:fa}),c.a.createElement(G.b,{path:"/build/:id",component:Ca}),c.a.createElement(G.b,{render:function(){return c.a.createElement(G.a,{to:"/"})}}))))}Sa.propTypes={router:V.a.shape({location:V.a.object,context:V.a.object})};var Ta,wa,Ba=Sa,Pa=(Ta=window.__INITIAL_STATE__,wa=m.d,Object(m.e)(z,Ta,wa(Object(m.a)(u.a)))),Ia=document.getElementById("app"),Da=c.a.createElement(o.a,{store:Pa},c.a.createElement(Ba,null));l.a.hydrate(Da,Ia)},P7Li:function(e,a,t){},TBfp:function(e,a,t){},dD1Q:function(e,a,t){},dwnn:function(e,a,t){},e91i:function(e,a,t){},eUxx:function(e,a,t){},fmwg:function(e,a,t){},hNfh:function(e,a,t){},p0Xn:function(e,a,t){},ptCH:function(e,a,t){},qVcC:function(e,a,t){},qYat:function(e,a,t){},qhG4:function(e,a,t){},rfz6:function(e,a,t){},uvrI:function(e,a,t){}},[["O14P",1,2]]]);