(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2y0T":function(e,a,t){},"8V2m":function(e,a,t){},"8ioV":function(e,a,t){},CSbY:function(e,a,t){},ErKr:function(e,a,t){},GuXe:function(e,a,t){},O14P:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"fetchBuilds",(function(){return v})),t.d(n,"fetchBuildById",(function(){return h})),t.d(n,"fetchBuildLogsById",(function(){return N})),t.d(n,"queueBuild",(function(){return E}));var r={};t.r(r),t.d(r,"fetchSettings",(function(){return O})),t.d(r,"saveSettings",(function(){return y}));var s=t("q1tI"),c=t.n(s),i=t("i8i4"),l=t.n(i),o=t("/MKj"),u=t("ANjH"),m=t("sINF"),d=t("lSNA"),p=t.n(d),b=t("vDqi"),f=t.n(b).a.create({baseURL:"http://127.0.0.1:3030/api",timeout:5e3});f.interceptors.response.use((function(e){return e.data}));var g=f;function v(e,a){return g.get("/builds",{params:{offset:e,limit:a}})}function h(e){return g.get("/builds/"+e)}function N(e){return g.get("/builds/"+e+"/logs")}function E(e){return g.post("/builds/"+e)}function O(){return g.get("/settings")}function y(e){return g.post("/settings",e)}var j={Builds:n,Settings:r};function C(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var S=function(e){return function(e){return e.settings}(e).values};function T(e){return{type:"@builds/STORE_SETTINGS",payload:e}}var w={values:void 0},B=t("G4qV");function I(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function P(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?I(Object(t),!0).forEach((function(a){p()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var L=function(e){return e.builds},D=function(e){return L(e).buildsMap},q=function(e,a){return D(e)[a]},x=function(e,a){return function(e){return L(e).buildsLogsMap}(e)[a]},R=Object(B.a)([function(e){return L(e).buildsIds},D],(function(e,a){return e.map((function(e){return a[e]}))}));var k,H={buildsIds:[],buildsMap:{},buildsLogsMap:{}},M=Object(u.c)(((k={}).settings=function(e,a){switch(void 0===e&&(e=w),a.type){case"@builds/STORE_SETTINGS":return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?C(Object(t),!0).forEach((function(a){p()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e,{values:a.payload});default:return e}},k.builds=function(e,a){var t,n;switch(void 0===e&&(e=H),a.type){case"@builds/STORE_BUILDS":return P({},e,{buildsIds:a.payload.map((function(e){return e.id})),buildsMap:a.payload.reduce((function(e,a){return e[a.id]=a,e}),{})});case"@builds/STORE_BUILD":return P({},e,{buildsMap:P({},e.buildsMap,(t={},t[a.payload.id]=a.payload,t))});case"@builds/STORE_BUILD_LOG":return P({},e,{buildsLogsMap:P({},e.buildsLogsMap,(n={},n[a.meta.id]=a.payload,n))});default:return e}},k));var A=t("17x9"),_=t.n(A),F=t("Ty5D"),z=t("55Ip"),U=t("tbn6"),V=(t("qVcC"),t("8OQS")),G=t.n(V),W=t("Dps+"),Y=t("HPh+"),X=(t("dD1Q"),t("pVnL")),K=t.n(X),Q=(t("qhG4"),t("TBfp"),Object(W.cn)("Title"));function J(e){var a=e.className,t=e.accent,n=e.children;return c.a.createElement("h1",{className:Object(Y.classnames)(a,Q({accent:t}))},n)}J.propTypes={className:_.a.string,accent:_.a.bool,children:_.a.any};var Z=J,$=Object(W.cn)("PageHeader");function ee(e){var a=e.className,t=e.children;return c.a.createElement("header",{className:Object(Y.classnames)(a,$())},c.a.createElement("div",{className:Object(Y.classnames)($("Container"),"Container")},t))}ee.Title=function(e){var a=e.className,t=G()(e,["className"]);return c.a.createElement(Z,K()({},t,{className:Object(Y.classnames)(a,$("Title"))}))},ee.Aside=function(e){var a=e.className,t=G()(e,["className"]);return c.a.createElement("div",K()({},t,{className:Object(Y.classnames)(a,$("Aside"))}))},ee.propTypes={className:_.a.string,children:_.a.any},ee.Title.propTypes={className:_.a.string},ee.Aside.propTypes={className:_.a.string};var ae=ee;t("ErKr"),t("ptCH");function te(e){var a=e.href,t=e.label;return c.a.createElement("a",{className:"Link",href:a},t)}te.propTypes={href:_.a.string.isRequired,label:_.a.string.isRequired};var ne=te,re=Object(W.cn)("PageFooter");function se(e){var a=e.className;return c.a.createElement("footer",{className:Object(Y.classnames)(a,re())},c.a.createElement("div",{className:Object(Y.classnames)(re("Container"),"Container")},c.a.createElement("ul",{className:re("Menu")},c.a.createElement("li",{className:re("Item")},c.a.createElement(ne,{href:"#support",label:"Support"})),c.a.createElement("li",{className:re("Item")},c.a.createElement(ne,{href:"#learning",label:"Learning"}))),c.a.createElement("div",{className:re("Copyright")},"©2020 Your Name")))}se.propTypes={className:_.a.string};var ce=se,ie=(t("e91i"),Object(W.cn)("Button"));function le(e){var a=e.className,t=e.label,n=e.iconName,r=e.theme,s=e.size,i=e.view,l=e.adaptive,o=G()(e,["className","label","iconName","theme","size","view","adaptive"]),u={theme:r,size:s,view:i,adaptive:l};return c.a.createElement("button",K()({type:"button"},o,{className:Object(Y.classnames)(a,ie(u))}),c.a.createElement("span",{className:ie("Wrapper")},!!n&&c.a.createElement("svg",{className:ie("Icon"),width:"12",height:"12"},c.a.createElement("use",{xlinkHref:"#"+n})),c.a.createElement("span",{className:ie("Label")},t)))}le.defaultProps={type:"button",theme:"normal"},le.propTypes={className:_.a.string,label:_.a.string,iconName:_.a.string,type:_.a.string,theme:_.a.string,size:_.a.string,view:_.a.string,adaptive:_.a.bool};var oe=le,ue=Object(W.cn)("MainPage");function me(e){var a=e.className,t=e.history,n=function(){return t.push("/settings")};return c.a.createElement("div",{className:Object(Y.classnames)(a,ue())},c.a.createElement(ae,{className:ue("Header")},c.a.createElement(ae.Title,null,"School CI server"),c.a.createElement(ae.Aside,null,c.a.createElement(oe,{adaptive:!0,label:"Settings",iconName:"settings",size:"s",onClick:n}))),c.a.createElement("main",{className:ue("Main")},c.a.createElement("div",{className:Object(Y.classnames)(ue("Container"),"Container")},c.a.createElement("section",{className:ue("Intro")},c.a.createElement("div",{className:ue("Wrapper")},c.a.createElement("svg",{className:ue("Logo"),width:"124",height:"124"},c.a.createElement("use",{xlinkHref:"#logo"})),c.a.createElement("p",{className:ue("Label")},"Configure repository connection and synchronization settings"),c.a.createElement(oe,{theme:"action",label:"Open settings",onClick:n}))))),c.a.createElement(ce,{className:ue("Footer")}))}me.propTypes={className:_.a.string,history:_.a.shape({push:_.a.func}).isRequired};var de=me,pe=(t("8V2m"),t("rfz6"),t("P7Li"),Object(W.cn)("CommitSpan"));function be(e){var a=e.className,t=e.branch,n=e.hash;return c.a.createElement("span",{className:Object(Y.classnames)(a,pe())},c.a.createElement("span",{className:pe("Label")},"Commit: "),c.a.createElement("svg",{className:pe("Icon"),width:"16",height:"16"},c.a.createElement("use",{xlinkHref:"#code-commit"})),c.a.createElement("span",{className:pe("Branch")},t),c.a.createElement("span",{className:pe("Hash")},n))}be.propTypes={className:_.a.string,branch:_.a.string,hash:_.a.string};var fe=be,ge=(t("uvrI"),Object(W.cn)("OwnerSpan"));function ve(e){var a=e.className,t=e.owner;return c.a.createElement("span",{className:Object(Y.classnames)(a,ge())},c.a.createElement("span",{className:ge("Label")},"Author: "),c.a.createElement("svg",{className:ge("Icon"),width:"16",height:"16"},c.a.createElement("use",{xlinkHref:"#user"})),c.a.createElement("span",{className:ge("Name")},t))}ve.propTypes={className:_.a.string,owner:_.a.string};var he=ve,Ne=t("sWYD"),Ee=t("rVOZ"),Oe=t("Se/U"),ye=t("p+Ro"),je=(t("fmwg"),Object(W.cn)("DateTime")),Ce={date:{iconName:"calendar",label:"Date",format:"d MMM, HH:mm"},time:{iconName:"stopwatch",label:"Time",format:"H ч m мин"}};function Se(e){var a=e.className,t=e.dateTime,n=e.view,r=Ce[n]||{},s=r.iconName,i=r.label,l=r.format,o=Object(ye.a)(t)?t:new Date(t);return c.a.createElement("span",{className:Object(Y.classnames)(a,je({view:n}))},!!s&&c.a.createElement("svg",{className:je("Icon"),width:"16",height:"16"},c.a.createElement("use",{xlinkHref:"#"+s})),i&&c.a.createElement("span",{className:je("Label")},i),Object(Oe.a)(o)&&c.a.createElement("time",{className:je("Time"),dateTime:t},Object(Ne.a)(o,l,{locale:Ee.a})))}Se.defaultProps={view:"date"},Se.propTypes={className:_.a.string,dateTime:_.a.oneOfType([_.a.string,_.a.instanceOf(Date)]),view:_.a.oneOf(["date","time"])};var Te=Se,we=Object(W.cn)("BuildCard");function Be(e){var a=e.className,t=e.interactive,n=e.view,r=e.card,s=void 0===r?{}:r,i=s.status,l=s.buildNumber,o=void 0===l?"--":l,u=s.commitMessage,m=s.branchName,d=s.commitHash,p=s.authorName,b=s.start,f=s.duration,g=new Date((void 0===f?0:f)+ +new Date(0));return c.a.createElement("article",{className:Object(Y.classnames)(a,we({status:i,interactive:t,view:n}))},c.a.createElement("div",{className:we("Wrapper")},c.a.createElement("div",{className:we("Status")},c.a.createElement("svg",{className:we("Icon"),width:"24",height:"24"},c.a.createElement("use",{xlinkHref:"#done"})),i),c.a.createElement("div",{className:we("Content")},c.a.createElement("h3",{className:we("Title")},c.a.createElement("span",{className:we("No")},"#"+o)," ",c.a.createElement("span",{className:we("Text")},u)),c.a.createElement("div",{className:we("Meta")},c.a.createElement(fe,{className:we("Commit"),branch:m,hash:d}),c.a.createElement(he,{className:we("Owner"),owner:p}))),c.a.createElement("div",{className:we("Aside")},c.a.createElement(Te,{className:we("Time"),view:"date",dateTime:b}),c.a.createElement(Te,{className:we("Time"),view:"time",dateTime:g}))))}Be.propTypes={className:_.a.string,interactive:_.a.bool,view:_.a.string,card:_.a.shape({id:_.a.string,status:_.a.oneOf(["Waiting","InProgress","Success","Fail","Canceled"]),buildNumber:_.a.number,commitMessage:_.a.string,branchName:_.a.string,commitHash:_.a.string,authorName:_.a.string,start:_.a.string,duration:_.a.number})};var Ie=Be,Pe=t("9rZX"),Le=t.n(Pe),De=(t("hNfh"),t("dwnn"),t("CSbY"),t("GuXe"),Object(W.cn)("Input"));function qe(e){var a=e.className,t=e.id,n=e.name,r=e.type,s=e.value,i=e.palceholder,l=e.min,o=e.max,u=e.textAlign,m=e.cleanable,d=e.innerRef,p=e.onChange;return c.a.createElement("div",{className:Object(Y.classnames)(a,De({textAlign:u,cleanable:m}))},c.a.createElement("input",{ref:d,className:De("Control"),type:r,id:t,name:n,value:s,placeholder:i,min:l,max:o,onChange:function(e){return p(e.target.value)}}),c.a.createElement("button",{className:De("Clear",{hidden:!s}),type:"button",onClick:function(){return p("")}},c.a.createElement("svg",{className:De("Icon"),width:"16",height:"16"},c.a.createElement("use",{xlinkHref:"#clear"})),"Clear"))}qe.defaultProps={type:"text",onChange:function(){}},qe.propTypes={className:_.a.string,id:_.a.string,name:_.a.string,type:_.a.string,value:_.a.oneOfType([_.a.string,_.a.number]),palceholder:_.a.string,min:_.a.string,max:_.a.string,textAlign:_.a.string,cleanable:_.a.bool,innerRef:_.a.any,onChange:_.a.func};var xe=qe,Re=Object(W.cn)("TextInput");function ke(e){var a=e.className,t=e.id,n=e.name,r=e.label,s=e.value,i=e.palceholder,l=e.required,o=e.onChange;return c.a.createElement("div",{className:Object(Y.classnames)(a,Re({required:l}))},!!r&&c.a.createElement("label",{className:Re("Label"),htmlFor:n},r),c.a.createElement(xe,{className:Re("Control"),id:t,name:n,value:s,palceholder:i,cleanable:!0,onChange:o}))}ke.propTypes={className:_.a.string,id:_.a.string,name:_.a.string,value:_.a.string,label:_.a.string,palceholder:_.a.string,required:_.a.bool,onChange:_.a.func};var He=ke,Me=Object(W.cn)("NewBuildForm");function Ae(e){var a=Object(s.useState)(""),t=a[0],n=a[1],r=e.className,i=e.onSubmit,l=e.onCancel;return c.a.createElement("section",{className:Object(Y.classnames)(r,Me())},c.a.createElement("h3",{className:Me("Title")},"New build"),c.a.createElement("form",{className:Me("Form"),onSubmit:function(e){e.preventDefault(),i({commit:t})}},c.a.createElement("p",{className:Me("Text")},"Configure repository connection and synchronization settings."),c.a.createElement(He,{id:"commit",name:"commit",value:t,palceholder:"Commit hash",onChange:n}),c.a.createElement("div",{className:Me("Footer")},c.a.createElement(oe,{className:Me("Button"),type:"submit",theme:"action",label:"Run build",disabled:!t}),c.a.createElement(oe,{className:Me("Button"),theme:"secondary",label:"Cancel",onClick:l}))))}Ae.defaultProps={onSubmit:function(){}},Ae.propTypes={className:_.a.string,onSubmit:_.a.func,onCancel:_.a.func};var _e=Ae;Le.a.setAppElement("#app");var Fe=Object(W.cn)("NewBuildDialog");function ze(e){var a=e.isOpen,t=e.onSubmit,n=e.onCancel;return c.a.createElement(Le.a,{isOpen:a,portalClassName:Fe(),closeTimeoutMS:300,className:{base:Fe("Wrapper"),afterOpen:Fe("Wrapper",{entered:!0}),beforeClose:Fe("Wrapper",{leave:!0})},overlayClassName:{base:Fe("Overlay"),afterOpen:Fe("Overlay",{entered:!0}),beforeClose:Fe("Overlay",{leave:!0})},bodyOpenClassName:"Page_noscroll",onRequestClose:n},c.a.createElement("div",{className:Fe("Content")},c.a.createElement(_e,{onSubmit:t,onCancel:n})))}ze.propTypes={isOpen:_.a.bool,onSubmit:_.a.func,onCancel:_.a.func};var Ue=ze,Ve=Object(W.cn)("BuildHistoryPage");function Ge(e){var a=e.className,t=e.history,n=e.buildsCards,r=void 0===n?[]:n,i=e.fetchBuilds,l=e.queueBuild,o=Object(s.useState)(!1),u=o[0],m=o[1],d=function(){return m(!1)};return Object(s.useEffect)((function(){e.buildsCards||i()}),[]),c.a.createElement("div",{className:Object(Y.classnames)(a,Ve())},c.a.createElement(ae,{className:Ve("Header")},c.a.createElement(ae.Title,{accent:!0},"School CI server"),c.a.createElement(ae.Aside,{className:Ve("Aside")},c.a.createElement(oe,{adaptive:!0,label:"Run build",iconName:"play",size:"s",onClick:function(){return m(!0)}}),c.a.createElement(oe,{label:"Settings",iconName:"settings",size:"s",view:"tile",onClick:function(){return t.push("/settings")}}))),c.a.createElement("main",{className:Ve("Main")},c.a.createElement("div",{className:Object(Y.classnames)(Ve("Container"),"Container")},c.a.createElement("section",{className:Ve("History")},c.a.createElement("h3",{className:Ve("Title")},"BuildHistoryPage"),c.a.createElement("ul",{className:Ve("Items")},r.map((function(e){return void 0===e&&(e={}),c.a.createElement("li",{className:Ve("Item"),key:e.id},c.a.createElement(z.b,{className:Ve("Link"),to:"/build/"+e.id},c.a.createElement(Ie,{interactive:!0,card:e})))}))),r>0&&c.a.createElement(oe,{className:Ve("More"),label:"Show more",size:"s"}))),c.a.createElement(Ue,{isOpen:u,onCancel:d,onSubmit:function(e){var a=e.commit;d(),a&&l(a).then((function(e){var a=e.buildId;t.push("/build/"+a)}))}})),c.a.createElement(ce,null))}Ge.propTypes={className:_.a.string,history:_.a.shape({push:_.a.func}).isRequired,buildsCards:_.a.arrayOf(_.a.object),fetchBuilds:_.a.func,queueBuild:_.a.func};var We=Ge;var Ye=Object(o.b)((function(e){return{buildsCards:R(e)}}),{fetchBuilds:function(e,a){return function(t){return j.Builds.fetchBuilds(e,a).then((function(e){var a=e.data;t({type:"@builds/STORE_BUILDS",payload:a})}))}},queueBuild:function(e){return function(){return j.Builds.queueBuild(e)}}})(We);function Xe(e){var a=e.settings,t=(e.fetchSettings,G()(e,["settings","fetchSettings"]));return a?c.a.createElement(Ye,t):c.a.createElement(de,t)}Xe.propTypes={history:_.a.shape({push:_.a.func}).isRequired,settings:_.a.object,fetchSettings:_.a.func};var Ke=Xe;var Qe=Object(o.b)((function(e){return{settings:S(e)}}),{fetchSettings:function(){return function(e){return j.Settings.fetchSettings().then((function(a){var t=a.data;e(T(t))}))}}})(Ke);t("p0Xn");var Je=function(){var e=Object(U.useToasts)().addToast;return{onSuccess:Object(s.useCallback)((function(a){return e(a,{appearance:"success",autoDismiss:!0})}),[e]),onError:Object(s.useCallback)((function(a){return e(a,{appearance:"error",autoDismiss:!0})}),[e])}};t("qYat");function Ze(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function $e(e){void 0===e&&(e={});var a=e,t=a.repoName,n=void 0===t?"":t,r=a.buildCommand,s=void 0===r?"":r,c=a.mainBranch,i=void 0===c?"":c,l=a.period;return{repoName:n,buildCommand:s,mainBranch:i,period:void 0===l?0:l}}var ea=function(e){var a=e.initialValues,t=e.onSubmit,n=Object(s.useRef)(!0),r=Object(s.useState)(!1),c=r[0],i=r[1],l=Object(s.useState)($e(a)),o=l[0],u=l[1],m=function(e){var a={};return e.repoName?e.buildCommand?null:(a.buildCommand="Build command is required",a):(a.repoName="GitHub repository is required",a)}(o);return Object(s.useEffect)((function(){u($e(a))}),[a]),Object(s.useEffect)((function(){return function(){n.current=!1}}),[]),[{values:o,errors:m,submitting:c},function(e){return function(a){u((function(t){var n;return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Ze(Object(t),!0).forEach((function(a){p()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ze(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},t,((n={})[e]=a,n))}))}},function(e){e&&e.preventDefault(),i(!0),t(o).then((function(e){return n.current&&i(!1),e})).catch((function(e){throw n.current&&i(!1),e}))}]},aa=t("tAlu"),ta=t.n(aa),na=(t("8ioV"),Object(W.cn)("NumericInput"));function ra(e){var a=e.className,t=e.id,n=e.name,r=e.label,s=e.value,i=e.min,l=e.max,o=e.palceholder,u=e.units,m=e.onChange;return c.a.createElement("div",{className:Object(Y.classnames)(a,na())},c.a.createElement("div",{className:na("Wrapper")},!!r&&c.a.createElement("label",{className:na("Label"),htmlFor:t},r),c.a.createElement(ta.a,{mask:[/\d/,/\d/,/\d/],guide:!1,className:na("Control"),id:t,name:n,value:s,palceholder:o,type:"text",min:i,max:l,textAlign:"right",onChange:m,render:function(e,a){return c.a.createElement(xe,K()({innerRef:e},a))}}),c.a.createElement("span",{className:na("Units")},u)))}ra.propTypes={className:_.a.string,id:_.a.string.isRequired,name:_.a.string.isRequired,value:_.a.oneOfType([_.a.string,_.a.number]),label:_.a.string.isRequired,palceholder:_.a.string,min:_.a.string,max:_.a.string,units:_.a.string.isRequired,onChange:_.a.func};var sa=ra,ca=Object(W.cn)("SettingsForm");function ia(e){var a=e.className,t=e.initialSettings,n=e.onSubmit,r=e.onCancel,s=ea({initialValues:t,onSubmit:n}),i=s[0],l=i.values,o=i.errors,u=i.submitting,m=s[1],d=s[2];return c.a.createElement("section",{className:Object(Y.classnames)(a,ca())},c.a.createElement("h3",{className:ca("Title")},"Settings"),c.a.createElement("p",{className:ca("Text")},"Configure repository connection and synchronization settings."),c.a.createElement("form",{className:ca("Form"),onSubmit:d},c.a.createElement("fieldset",{className:ca("Fieldset")},c.a.createElement(He,{className:ca("Field"),name:"repoName",value:l.repoName,label:"GitHub repository",palceholder:"user-name/repo-name",required:!0,onChange:m("repoName")}),c.a.createElement(He,{className:ca("Field"),id:"buildCommand",name:"buildCommand",value:l.buildCommand,label:"Build command",palceholder:"npm run build",required:!0,onChange:m("buildCommand")}),c.a.createElement(He,{className:ca("Field"),id:"mainBranch",name:"mainBranch",value:l.mainBranch,label:"Main branch",palceholder:"master",onChange:m("mainBranch")}),c.a.createElement(sa,{className:ca("Field"),id:"period",name:"period",value:l.period,label:"Synchronize every",palceholder:"999",units:"minutes",min:"0",max:"999",onChange:m("period")})),c.a.createElement("div",{className:ca("Footer")},c.a.createElement(oe,{className:ca("Button"),theme:"action",label:"Save",type:"submit",disabled:!!o||u}),c.a.createElement(oe,{className:ca("Button"),label:"Cancel",disabled:u,onClick:r}))))}ia.propTypes={className:_.a.string,initialSettings:_.a.object,onSubmit:_.a.func,onCancel:_.a.func};var la=ia,oa=Object(W.cn)("SettingsPage");function ua(e){var a=e.className,t=e.history,n=e.settings,r=e.saveSettings,s=Je(),i=s.onError,l=s.onSuccess;return c.a.createElement("div",{className:Object(Y.classnames)(a,oa())},c.a.createElement(ae,{className:oa("Header")},c.a.createElement(ae.Title,null,"School CI server")),c.a.createElement("main",{className:oa("Main")},c.a.createElement("div",{className:Object(Y.classnames)(oa("Container"),"Container")},c.a.createElement(la,{className:oa("Settings"),initialSettings:n,onSubmit:function(e){return r(e).then((function(){l("Settings successfully saved"),t.push("/history")})).catch((function(e){return i(e.message)}))},onCancel:function(){return t.goBack()}}))),c.a.createElement(ce,{className:oa("Footer")}))}ua.propTypes={className:_.a.string,history:_.a.shape({push:_.a.func,goBack:_.a.func}).isRequired,settings:_.a.object,saveSettings:_.a.func};var ma=ua;var da=Object(o.b)((function(e){return{settings:S(e)}}),{saveSettings:function(e){return function(a){return j.Settings.saveSettings(e).then((function(){a(T(e))}))}}})(ma),pa=(t("eUxx"),t("YavU")),ba=t.n(pa),fa=(t("2y0T"),Object(W.cn)("ConsoleLog")),ga=new ba.a({fg:"#000",bg:"#000"});function va(e){var a=e.className,t=e.children,n=t?ga.toHtml(t):null;return c.a.createElement("div",{className:Object(Y.classnames)(a,fa())},c.a.createElement("pre",{className:fa("Wrappper"),dangerouslySetInnerHTML:{__html:n}}))}va.propTypes={className:_.a.string,children:_.a.string};var ha=va,Na=Object(W.cn)("BuildDetailsPage");function Ea(e){var a=e.className,t=e.history,n=e.match,r=e.buildCard,i=e.buildLogs,l=e.repoName,o=e.fetchBuildById,u=e.fetchBuildLogsById,m=n&&n.params.id;return Object(s.useEffect)((function(){o(m),u(m)}),[]),c.a.createElement("div",{className:Object(Y.classnames)(a,Na())},c.a.createElement(ae,{className:Na("Header")},c.a.createElement(ae.Title,{accent:!0},c.a.createElement(z.b,{to:"/",className:Na("Link")},l)),c.a.createElement(ae.Aside,{className:Na("Aside")},c.a.createElement(oe,{adaptive:!0,label:"Rebuild",iconName:"rebuild",size:"s"}),c.a.createElement(oe,{label:"Settings",iconName:"settings",size:"s",view:"tile",onClick:function(){return t.push("/settings")}}))),c.a.createElement("main",{className:Na("Main")},c.a.createElement("div",{className:Object(Y.classnames)(Na("Container"),"Container")},c.a.createElement("section",{className:Na("Details")},c.a.createElement("h3",{className:Na("Title")},"BuildDetailsPage"),c.a.createElement(Ie,{className:"BuildDetailsPage-Card",view:"details",card:r}),c.a.createElement(ha,{className:Na("Log")},i||"Loading log...")))),c.a.createElement(ce,null))}Ea.propTypes={className:_.a.string,history:_.a.shape({push:_.a.func}).isRequired,match:_.a.shape({params:_.a.shape({id:_.a.string})}),buildCard:_.a.object,buildLogs:_.a.string,repoName:_.a.string,fetchBuildById:_.a.func,fetchBuildLogsById:_.a.func};var Oa=Ea;var ya=Object(o.b)((function(e,a){var t=a.match,n=t&&t.params.id;return{buildCard:q(e,n),buildLogs:x(e,n),repoName:function(e,a){var t=S(e);return t&&t[a]}(e,"repoName")}}),{fetchBuildById:function(e){return function(a,t){var n=t(),r=q(n,e);return r?Promise.resolve(r):j.Builds.fetchBuildById(e).then((function(e){var t=e.data;return a({type:"@builds/STORE_BUILD",payload:t}),t}))}},fetchBuildLogsById:function(e){return function(a,t){var n=t(),r=x(n,e);return r?Promise.resolve(r):j.Builds.fetchBuildLogsById(e).then((function(t){var n=t.data;return a(function(e,a){return{type:"@builds/STORE_BUILD_LOG",meta:{id:e},payload:a}}(e,n)),n}))}}})(Oa);function ja(e){var a=e.router,t=void 0===a?{}:a,n=!0===Object({NODE_ENV:"production"}).SSR?F.d:z.a,r=t.location,s=t.context;return c.a.createElement(U.ToastProvider,null,c.a.createElement(n,{location:r,context:s},c.a.createElement(F.e,null,c.a.createElement(F.b,{exact:!0,path:"/",component:Qe}),c.a.createElement(F.b,{path:"/settings",component:da}),c.a.createElement(F.b,{path:"/build/:id",component:ya}),c.a.createElement(F.b,{render:function(){return c.a.createElement(F.a,{to:"/"})}}))))}ja.propTypes={router:_.a.shape({location:_.a.object,context:_.a.object})};var Ca,Sa,Ta=ja,wa=(Ca=window.__INITIAL_STATE__,Sa=u.d,Object(u.e)(M,Ca,Sa(Object(u.a)(m.a)))),Ba=document.getElementById("app"),Ia=c.a.createElement(o.a,{store:wa},c.a.createElement(Ta,null));l.a.hydrate(Ia,Ba)},P7Li:function(e,a,t){},TBfp:function(e,a,t){},dD1Q:function(e,a,t){},dwnn:function(e,a,t){},e91i:function(e,a,t){},eUxx:function(e,a,t){},fmwg:function(e,a,t){},hNfh:function(e,a,t){},p0Xn:function(e,a,t){},ptCH:function(e,a,t){},qVcC:function(e,a,t){},qYat:function(e,a,t){},qhG4:function(e,a,t){},rfz6:function(e,a,t){},uvrI:function(e,a,t){}},[["O14P",1,2]]]);