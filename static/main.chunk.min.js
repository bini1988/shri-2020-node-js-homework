(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2y0T":function(e,t,a){},"8V2m":function(e,t,a){},"8ioV":function(e,t,a){},CSbY:function(e,t,a){},ErKr:function(e,t,a){},GuXe:function(e,t,a){},P7Li:function(e,t,a){},TBfp:function(e,t,a){},dD1Q:function(e,t,a){},dwnn:function(e,t,a){},e91i:function(e,t,a){},eUxx:function(e,t,a){},fmwg:function(e,t,a){},hNfh:function(e,t,a){},ijGc:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchBuilds",(function(){return N})),a.d(n,"fetchBuildById",(function(){return E})),a.d(n,"fetchBuildLogsById",(function(){return v})),a.d(n,"queueBuild",(function(){return O}));var c={};a.r(c),a.d(c,"fetchSettings",(function(){return h})),a.d(c,"saveSettings",(function(){return g}));var r=a("q1tI"),s=a.n(r),l=a("i8i4"),i=a.n(l),o=a("/MKj"),u=a("ANjH"),m=a("5HXA"),d=a("sINF"),b=a("vDqi"),f=a.n(b).a.create({baseURL:"http://127.0.0.1:3030/api"});f.interceptors.response.use((function(e){var t=e.data;if(t&&t.error)throw t.message=t.message||"Ошибка. Попробуйте повторить попытку позже.",t;return t}));var p=f;function N(e,t){return p.get("/builds",{params:{offset:e,limit:t}})}function E(e){return p.get("/builds/"+e)}function v(e){return p.get("/builds/"+e+"/logs")}function O(e){return p.post("/builds/"+e)}function h(){return p.get("/settings")}function g(e){return p.post("/settings",e)}var j={Builds:n,Settings:c},y=a("G4qV"),C=function(e){return e.builds},S=function(e){return C(e).buildsMap},w=function(e,t){return S(e)[t]},T=function(e,t){return function(e){return C(e).buildsLogsMap}(e)[t]},B=Object(y.a)([function(e){return C(e).buildsIds},S],(function(e,t){return e.map((function(e){return t[e]})).sort((function(e,t){return t.buildNumber-e.buildNumber}))}));function I(e,t){return function(a){return j.Builds.fetchBuilds(e,t).then((function(e){var t=e.data;a({type:"@builds/STORE_BUILDS",payload:t})}))}}function k(e){return function(t,a){var n=a(),c=w(n,e);return c?Promise.resolve(c):j.Builds.fetchBuildById(e).then((function(e){var a=e.data;return t({type:"@builds/STORE_BUILD",payload:a}),a}))}}var D=a("lSNA"),P=a.n(D);function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){P()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x={buildsIds:[],buildsMap:{},buildsLogsMap:{}};function M(e){return{type:"@settings/STORE_SETTINGS",payload:e}}function q(e){return function(t){return t(function(e){return function(t){return j.Settings.saveSettings(e).then((function(e){var a=e.data.settings;return t(M(a)),a}))}}(e)).then((function(e){return t(I()),e}))}}function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var _,F={values:{}},R=function(e){return function(e){return e.settings}(e).values},z=function(e){return R(e).repoName},G=Object(u.combineReducers)(((_={}).settings=function(e,t){switch(void 0===e&&(e=F),t.type){case"@settings/STORE_SETTINGS":return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){P()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{values:t.payload});default:return e}},_.builds=function(e,t){var a,n;switch(void 0===e&&(e=x),t.type){case"@builds/STORE_BUILDS":return H({},e,{buildsIds:t.payload.map((function(e){return e.id})),buildsMap:t.payload.reduce((function(e,t){return e[t.id]=t,e}),{})});case"@builds/STORE_BUILD":return H({},e,{buildsIds:e.buildsIds.includes(t.payload.id)?e.buildsIds:[t.payload.id].concat(e.buildsIds),buildsMap:H({},e.buildsMap,(a={},a[t.payload.id]=t.payload,a))});case"@builds/STORE_BUILD_LOG":return H({},e,{buildsLogsMap:H({},e.buildsLogsMap,(n={},n[t.meta.id]=t.payload,n))});default:return e}},_)),U=Object(m.composeWithDevTools)(Object(u.applyMiddleware)(d.a)),V=a("55Ip"),W=a("V/vL"),Y=a("tbn6"),X=(a("qVcC"),a("Ty5D")),K=a("Dps+"),Q=a("HPh+"),J=(a("dD1Q"),a("pVnL")),Z=a.n(J),$=(a("qhG4"),a("8OQS")),ee=a.n($),te=(a("TBfp"),Object(K.cn)("Title")),ae=function(e){var t=e.accent,a=ee()(e,["accent"]);return s.a.createElement("h1",Z()({},a,{className:Object(Q.classnames)(a.className,te({accent:t}))}))},ne=Object(K.cn)("PageHeader"),ce=function(e){var t=e.className,a=e.children;return s.a.createElement("header",{className:Object(Q.classnames)(t,ne())},s.a.createElement("div",{className:Object(Q.classnames)(ne("Container"),"Container")},a))};ce.Title=function(e){return s.a.createElement(ae,Z()({},e,{className:Object(Q.classnames)(e.className,ne("Title")),"data-test":"title"}))},ce.Aside=function(e){return s.a.createElement("div",Z()({},e,{className:Object(Q.classnames)(e.className,ne("Aside")),"data-test":"aside"}))};var re=ce,se=(a("ErKr"),a("ptCH"),Object(K.cn)("Link")),le=function(e){var t=e.label,a=e.children,n=ee()(e,["label","children"]);return s.a.createElement("a",Z()({},n,{className:Object(Q.classnames)(n.className,se())}),t,a)},ie=Object(K.cn)("PageFooter"),oe=function(e){return s.a.createElement("footer",{className:Object(Q.classnames)(e.className,ie())},s.a.createElement("div",{className:Object(Q.classnames)(ie("Container"),"Container")},s.a.createElement("ul",{className:ie("Menu")},s.a.createElement("li",{className:ie("Item")},s.a.createElement(le,{href:"#support",label:"Support"})),s.a.createElement("li",{className:ie("Item")},s.a.createElement(le,{href:"#learning",label:"Learning"}))),s.a.createElement("div",{className:ie("Copyright")},"©2020 Your Name")))},ue=(a("e91i"),Object(K.cn)("Button")),me=function(e){var t=e.className,a=e.label,n=e.iconName,c=e.theme,r=e.size,l=e.view,i=e.adaptive,o=ee()(e,["className","label","iconName","theme","size","view","adaptive"]),u={theme:c,size:r,view:l,adaptive:i};return s.a.createElement("button",Z()({type:"button"},o,{className:Object(Q.classnames)(t,ue(u))}),s.a.createElement("span",{className:ue("Wrapper")},!!n&&s.a.createElement("svg",{className:ue("Icon"),width:"12",height:"12"},s.a.createElement("use",{xlinkHref:"#"+n})),s.a.createElement("span",{className:ue("Label")},a)))};me.defaultProps={type:"button"};var de=me,be=Object(K.cn)("MainPage"),fe=function(e){var t=e.className,a=e.history,n=Object(r.useCallback)((function(){return a.push("/settings")}),[a]);return s.a.createElement("div",{className:Object(Q.classnames)(t,be()),"data-test":"main-page"},s.a.createElement(re,{className:be("Header")},s.a.createElement(re.Title,null,"School CI server"),s.a.createElement(re.Aside,null,s.a.createElement(de,{adaptive:!0,label:"Settings",iconName:"settings","data-test":"btn-settings",size:"s",onClick:n}))),s.a.createElement("main",{className:be("Main")},s.a.createElement("div",{className:Object(Q.classnames)(be("Container"),"Container")},s.a.createElement("section",{className:be("Intro"),"data-test":"intro"},s.a.createElement("div",{className:be("Wrapper")},s.a.createElement("svg",{className:be("Logo"),width:"124",height:"124"},s.a.createElement("use",{xlinkHref:"#logo"})),s.a.createElement("p",{className:be("Label")},"Configure repository connection and synchronization settings"),s.a.createElement(de,{theme:"action",label:"Open settings","data-test":"btn-settings",onClick:n}))))),s.a.createElement(oe,{className:be("Footer")}))};a("8V2m");var pe=function(){var e=Object(Y.useToasts)().addToast;return{onSuccess:Object(r.useCallback)((function(t){return e(t,{appearance:"success",autoDismiss:!0})}),[e]),onError:Object(r.useCallback)((function(t){return e(t,{appearance:"error",autoDismiss:!0})}),[e])}};var Ne=function(e){var t=Object(o.b)(),a=pe();return Object(r.useCallback)((function(n){n&&t(function(e){return function(t){return j.Builds.queueBuild(e).then((function(e){var a=e.data;return t(k(a.id))}))}}(n)).then((function(t){a.onSuccess("Build is successfully queued"),e&&e.push("/build/"+t.id)})).catch((function(e){return a.onError(e.message)}))}),[t,a,e])};var Ee=function(e){void 0===e&&(e=!1);var t=Object(r.useState)(e),a=t[0],n=t[1];return{isDialogOpen:a,openDialog:Object(r.useCallback)((function(){return n(!0)}),[n]),closeDialog:Object(r.useCallback)((function(){return n(!1)}),[n])}},ve=a("pl0G"),Oe=(a("rfz6"),a("P7Li"),Object(K.cn)("CommitSpan")),he=function(e){return s.a.createElement("span",{className:Object(Q.classnames)(e.className,Oe()),"data-test":"commit"},s.a.createElement("span",{className:Oe("Label")},"Commit: "),s.a.createElement("svg",{className:Oe("Icon"),width:"16",height:"16"},s.a.createElement("use",{xlinkHref:"#code-commit"})),s.a.createElement("span",{className:Oe("Branch"),"data-test":"branch"},e.branch),s.a.createElement("span",{className:Oe("Hash"),"data-test":"hash"},e.hash))},ge=(a("uvrI"),Object(K.cn)("OwnerSpan")),je=function(e){return s.a.createElement("span",{className:Object(Q.classnames)(e.className,ge())},s.a.createElement("span",{className:ge("Label")},"Author: "),s.a.createElement("svg",{className:ge("Icon"),width:"16",height:"16"},s.a.createElement("use",{xlinkHref:"#user"})),s.a.createElement("span",{className:ge("Name")},e.owner))},ye=a("sWYD"),Ce=a("rVOZ"),Se=a("Se/U"),we=(a("fmwg"),Object(K.cn)("DateTime")),Te={date:{iconName:"calendar",label:"Date",format:"d MMM, HH:mm"},time:{iconName:"stopwatch",label:"Time",format:"H ч m мин"}},Be=function(e){var t=e.className,a=e.dateTime,n=e.view,c=Te[n],r=c.iconName,l=c.label,i=c.format,o=new Date(a);return s.a.createElement("span",{className:Object(Q.classnames)(t,we({view:n}))},!!r&&s.a.createElement("svg",{className:we("Icon"),width:"16",height:"16"},s.a.createElement("use",{xlinkHref:"#"+r})),l&&s.a.createElement("span",{className:we("Label")},l),Object(Se.a)(o)&&s.a.createElement("time",{className:we("Time"),dateTime:a},Object(ye.a)(o,i,{locale:Ce.a})))};Be.defaultProps={view:"date"};var Ie=Be,ke=Object(K.cn)("BuildCard"),De=function(e){var t=e.className,a=e.interactive,n=e.view,c=e.card,r=c.id,l=c.status,i=c.buildNumber,o=void 0===i?"--":i,u=c.commitMessage,m=c.branchName,d=c.commitHash,b=c.authorName,f=c.start,p=c.duration,N=void 0===p?0:p,E=Object(ve.a)(new Date("1970-01-01T00:00:00.000"),N);return s.a.createElement("article",{className:Object(Q.classnames)(t,ke({status:l,interactive:a,view:n})),"data-test":"build-card","data-status":l,"data-id":r},s.a.createElement("div",{className:ke("Wrapper")},s.a.createElement("div",{className:ke("Status")},s.a.createElement("svg",{className:ke("Icon"),width:"24",height:"24"},s.a.createElement("use",{xlinkHref:"#done"})),l),s.a.createElement("div",{className:ke("Content")},s.a.createElement("h3",{className:ke("Title")},s.a.createElement("span",{className:ke("No")},"#"+o)," ",s.a.createElement("span",{className:ke("Text")},u)),s.a.createElement("div",{className:ke("Meta")},s.a.createElement(he,{className:ke("Commit"),branch:m,hash:d}),s.a.createElement(je,{className:ke("Owner"),owner:b}))),s.a.createElement("div",{className:ke("Aside")},s.a.createElement(Ie,{className:ke("Time"),view:"date",dateTime:f}),s.a.createElement(Ie,{className:ke("Time"),view:"time",dateTime:E.toISOString()}))))},Pe=a("9rZX"),Le=a.n(Pe),He=(a("hNfh"),a("dwnn"),a("CSbY"),a("GuXe"),Object(K.cn)("Input")),xe=function(e){var t=e.className,a=e.id,n=e.name,c=e.type,r=e.value,l=e.defaultValue,i=e.placeholder,o=e.min,u=e.max,m=e.textAlign,d=e.cleanable,b=e.innerRef,f=e.onChange,p=e.onClear;return s.a.createElement("div",{className:Object(Q.classnames)(t,He({textAlign:m,cleanable:d}))},s.a.createElement("input",{ref:b,className:He("Control"),"data-test":"input",type:c,id:a,name:n,value:r,defaultValue:l,placeholder:i,min:o,max:u,onChange:f}),s.a.createElement("button",{className:He("Clear",{hidden:!r}),"data-test":"clear",type:"button",onClick:p},s.a.createElement("svg",{className:He("Icon"),width:"16",height:"16"},s.a.createElement("use",{xlinkHref:"#clear"})),"Clear"))};xe.defaultProps={type:"text"};var Me=xe,qe=Object(K.cn)("TextInput"),Ae=function(e){var t=e.className,a=e.id,n=e.name,c=e.label,l=e.value,i=void 0===l?"":l,o=e.placeholder,u=e.required,m=e.onChange,d=void 0===m?function(){}:m,b=Object(r.useCallback)((function(e){d(e.target.value)}),[d]),f=Object(r.useCallback)((function(){d("")}),[d]);return s.a.createElement("div",{className:Object(Q.classnames)(t,qe({required:u}))},!!c&&s.a.createElement("label",{className:qe("Label"),"data-test":"label",htmlFor:n},c),s.a.createElement(Me,{className:qe("Control"),id:a,name:n,value:i,placeholder:o,cleanable:!0,onChange:b,onClear:f}))},_e=Object(K.cn)("NewBuildForm"),Fe=function(e){var t=Object(r.useState)(""),a=t[0],n=void 0===a?"":a,c=t[1],l=e.className,i=e.onSubmit,o=e.onCancel,u=Object(r.useCallback)((function(e){e.preventDefault(),i&&i({commit:n})}),[n]);return s.a.createElement("section",{className:Object(Q.classnames)(l,_e()),"data-test":"new-build-form"},s.a.createElement("h3",{className:_e("Title")},"New build"),s.a.createElement("form",{className:_e("Form"),"data-test":"form",onSubmit:u},s.a.createElement("p",{className:_e("Text")},"Configure repository connection and synchronization settings."),s.a.createElement(Ae,{id:"commit",name:"commit",value:n,"data-test":"commit",placeholder:"Commit hash",onChange:c}),s.a.createElement("div",{className:_e("Footer")},s.a.createElement(de,{className:_e("Button"),"data-test":"submit",type:"submit",theme:"action",label:"Run build",disabled:!n}),s.a.createElement(de,{className:_e("Button"),"data-test":"cancel",theme:"secondary",label:"Cancel",onClick:o}))))};Le.a.setAppElement("#app");var Re=Object(K.cn)("NewBuildDialog"),ze=function(e){return s.a.createElement(Le.a,{isOpen:e.isOpen,portalClassName:Re(),closeTimeoutMS:300,className:{base:Re("Wrapper"),afterOpen:Re("Wrapper",{entered:!0}),beforeClose:Re("Wrapper",{leave:!0})},overlayClassName:{base:Re("Overlay"),afterOpen:Re("Overlay",{entered:!0}),beforeClose:Re("Overlay",{leave:!0})},bodyOpenClassName:"Page_noscroll",onRequestClose:e.onCancel},s.a.createElement("div",{className:Re("Content")},s.a.createElement(Fe,{onSubmit:e.onSubmit,onCancel:e.onCancel})))},Ge=Object(K.cn)("BuildHistoryPage"),Ue=function(e){var t=e.className,a=e.history,n=Object(o.c)(z),c=Object(o.c)(B),l=Object(o.b)(),i=Ne(a),u=Ee(),m=u.isDialogOpen,d=u.openDialog,b=u.closeDialog;return Object(r.useEffect)((function(){c||l(I())}),[]),s.a.createElement("div",{className:Object(Q.classnames)(t,Ge()),"data-test":"build-history-page"},s.a.createElement(re,{className:Ge("Header")},s.a.createElement(re.Title,{accent:!0},s.a.createElement(V.b,{to:"/",className:Ge("Link")},n)),s.a.createElement(re.Aside,{className:Ge("Aside")},s.a.createElement(de,{adaptive:!0,label:"Run build",iconName:"play","data-test":"btn-build",size:"s",onClick:d}),s.a.createElement(de,{label:"Settings",iconName:"settings","data-test":"btn-settings",size:"s",view:"tile",onClick:function(){return a.push("/settings")}}))),s.a.createElement("main",{className:Ge("Main")},s.a.createElement("div",{className:Object(Q.classnames)(Ge("Container"),"Container")},s.a.createElement("section",{className:Ge("History")},s.a.createElement("h3",{className:Ge("Title")},"BuildHistoryPage"),s.a.createElement("ul",{className:Ge("Items"),"data-test":"card-items"},c.map((function(e){return s.a.createElement("li",{className:Ge("Item"),key:e.id},s.a.createElement(V.b,{to:"/build/"+e.id,className:Ge("Link"),"data-test":"card-link"},s.a.createElement(De,{interactive:!0,card:e})))}))),c.length>0&&s.a.createElement(de,{className:Ge("More"),label:"Show more",size:"s"}))),s.a.createElement(ze,{isOpen:m,onCancel:b,onSubmit:function(e){var t=e.commit;b(),i(t)}})),s.a.createElement(oe,null))},Ve=function(e){return Object(o.c)(R)?s.a.createElement(Ue,e):s.a.createElement(fe,e)};a("p0Xn");var We=function(e,t){var a=Object(o.b)(),n=pe();return Object(r.useCallback)((function(c){return a(q(c)).then((function(t){e&&e(t),n.onSuccess("Settings successfully saved")})).catch((function(e){t&&t(e),n.onError("Can not save settings: "+e.message)}))}),[a,e,t,n])};a("qYat");var Ye=function(e,t){void 0===t&&(t=!1);var a=Object(r.useRef)(!0),n=Object(r.useState)(t),c=n[0],s=n[1],l=Object(r.useCallback)((function(){return s(!0),Promise.resolve(e.apply(void 0,arguments)).then((function(e){return a.current&&s(!1),e})).catch((function(e){throw a.current&&s(!1),e}))}),[e]);return Object(r.useEffect)((function(){return function(){a.current=!1}}),[]),[c,l]};function Xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Ke,Qe=function(e){var t=e.initial,a=e.onSubmit,n=Object(r.useState)(t),c=n[0],s=n[1],l=Ye(a),i=l[0],o=l[1],u={values:c,errors:function(e){var t={};return e.repoName?e.buildCommand?null:(t.buildCommand="Build command is required",t):(t.repoName="GitHub repository is required",t)}(c),submitting:i};return Object(r.useEffect)((function(){s(t)}),[t]),[u,function(e){return function(t){s((function(a){var n;return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(a),!0).forEach((function(t){P()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a,((n={})[e]=t,n))}))}},o]},Je=a("tAlu"),Ze=a.n(Je),$e=(a("8ioV"),Object(K.cn)("NumericInput")),et=function(e){var t=e.className,a=e.id,n=e.name,c=e.label,l=e.value,i=e.min,o=e.max,u=e.placeholder,m=e.units,d=e.onChange,b=void 0===d?function(){}:d,f=Object(r.useCallback)((function(e){return b(e.target.value)}),[b]);return s.a.createElement("div",{className:Object(Q.classnames)(t,$e())},s.a.createElement("div",{className:$e("Wrapper")},!!c&&s.a.createElement("label",{className:$e("Label"),"data-test":"label",htmlFor:a},c),s.a.createElement(Ze.a,{mask:[/\d/,/\d/,/\d/],guide:!1,className:$e("Control"),id:a,name:n,value:l,placeholder:u,type:"text",min:i,max:o,onChange:f,render:function(e,t){return s.a.createElement(Me,Z()({},t,{innerRef:e,textAlign:"right"}))}}),s.a.createElement("span",{className:$e("Units"),"data-test":"units"},m)))},tt=Object(K.cn)("SettingsForm"),at=function(e){var t=e.className,a=e.initial,n=e.onSubmit,c=e.onCancel,l=Qe({initial:a,onSubmit:n}),i=l[0],o=i.values,u=i.errors,m=i.submitting,d=l[1],b=l[2],f=Object(r.useCallback)((function(e){e.preventDefault(),b(o)}),[b,o]);return s.a.createElement("section",{className:Object(Q.classnames)(t,tt()),"data-test":"settings-form"},s.a.createElement("h3",{className:tt("Title"),"data-test":"title"},"Settings"),s.a.createElement("p",{className:tt("Text")},"Configure repository connection and synchronization settings."),s.a.createElement("form",{className:tt("Form"),"data-test":"form",onSubmit:f},s.a.createElement("fieldset",{className:tt("Fieldset")},s.a.createElement(Ae,{className:tt("Field"),"data-test":"repoName",id:"repoName",name:"repoName",value:o.repoName,label:"GitHub repository",placeholder:"user-name/repo-name",required:!0,onChange:d("repoName")}),s.a.createElement(Ae,{className:tt("Field"),"data-test":"buildCommand",id:"buildCommand",name:"buildCommand",value:o.buildCommand,label:"Build command",placeholder:"npm run build",required:!0,onChange:d("buildCommand")}),s.a.createElement(Ae,{className:tt("Field"),"data-test":"mainBranch",id:"mainBranch",name:"mainBranch",value:o.mainBranch,label:"Main branch",placeholder:"master",onChange:d("mainBranch")}),s.a.createElement(et,{className:tt("Field"),"data-test":"period",id:"period",name:"period",value:o.period,label:"Synchronize every",placeholder:"999",units:"minutes",min:"0",max:"999",onChange:d("period")})),s.a.createElement("div",{className:tt("Footer")},s.a.createElement(de,{className:tt("Button"),"data-test":"submit",theme:"action",label:"Save",type:"submit",disabled:!!u||m}),s.a.createElement(de,{className:tt("Button"),"data-test":"cancel",label:"Cancel",disabled:m,onClick:c}))))},nt=Object(K.cn)("SettingsPage"),ct=function(e){var t=e.className,a=e.history,n=Object(o.c)(R),c=We(Object(r.useCallback)((function(){return a.push("/history")}),[a]));return s.a.createElement("div",{className:Object(Q.classnames)(t,nt()),"data-test":"settings-page"},s.a.createElement(re,{className:nt("Header")},s.a.createElement(re.Title,null,s.a.createElement(V.b,{to:"/",className:nt("Link")},"School CI server"))),s.a.createElement("main",{className:nt("Main")},s.a.createElement("div",{className:Object(Q.classnames)(nt("Container"),"Container")},s.a.createElement(at,{className:nt("Settings"),initial:n,onSubmit:c,onCancel:function(){return a.goBack()}}))),s.a.createElement(oe,{className:nt("Footer")}))},rt=(a("eUxx"),a("YavU")),st=a.n(rt),lt=(a("2y0T"),Object(K.cn)("ConsoleLog")),it=new st.a({fg:"#000",bg:"#000"}),ot=function(e){return s.a.createElement("div",{className:Object(Q.classnames)(e.className,lt()),"data-test":"console-log"},s.a.createElement("pre",{className:lt("Wrappper"),dangerouslySetInnerHTML:{__html:"string"==typeof e.children?it.toHtml(e.children):""}}))},ut=Object(K.cn)("BuildDetailsPage"),mt=[{path:"/",exact:!0,component:Ve},{path:"/settings",component:ct},{path:"/build/:id",component:function(e){var t=e.className,a=e.history,n=e.match,c=n&&n.params.id,l=Object(o.c)(z),i=Object(o.c)((function(e){return w(e,c)})),u=Object(o.c)((function(e){return T(e,c)})),m=Object(o.b)(),d=(i||{}).commitHash,b=Ne(a);return Object(r.useEffect)((function(){var e;m(k(c)),m((e=c,function(t,a){var n=a(),c=T(n,e);return c?Promise.resolve(c):j.Builds.fetchBuildLogsById(e).then((function(a){var n=a.data;return t(function(e,t){return{type:"@builds/STORE_BUILD_LOG",meta:{id:e},payload:t}}(e,n)),n}))}))}),[c]),s.a.createElement("div",{className:Object(Q.classnames)(t,ut()),"data-test":"build-details-page"},s.a.createElement(re,{className:ut("Header")},s.a.createElement(re.Title,{accent:!0},s.a.createElement(V.b,{to:"/",className:ut("Link")},l)),s.a.createElement(re.Aside,{className:ut("Aside")},s.a.createElement(de,{adaptive:!0,label:"Rebuild",iconName:"rebuild","data-test":"btn-rebuild",size:"s",onClick:function(){return b(d)}}),s.a.createElement(de,{label:"Settings",iconName:"settings","data-test":"btn-settings",size:"s",view:"tile",onClick:function(){return a.push("/settings")}}))),s.a.createElement("main",{className:ut("Main")},s.a.createElement("div",{className:Object(Q.classnames)(ut("Container"),"Container")},s.a.createElement("section",{className:ut("Details"),"data-test":"details"},s.a.createElement("h3",{className:ut("Title")},"BuildDetailsPage"),s.a.createElement(De,{className:"BuildDetailsPage-Card",view:"details",card:i}),s.a.createElement(ot,{className:ut("Log")},u||"Loading log...")))),s.a.createElement(oe,null))}},{render:function(){return s.a.createElement(X.a,{to:"/"})}}],dt=function(){return s.a.createElement(Y.ToastProvider,null,s.a.createElement(V.a,null,Object(W.a)(mt)))},bt=(Ke=window.__INITIAL_STATE__,Object(u.createStore)(G,Ke,U)),ft=document.getElementById("app"),pt=s.a.createElement(o.a,{store:bt},s.a.createElement(dt,null));i.a.hydrate(pt,ft)},p0Xn:function(e,t,a){},ptCH:function(e,t,a){},qVcC:function(e,t,a){},qYat:function(e,t,a){},qhG4:function(e,t,a){},rfz6:function(e,t,a){},uvrI:function(e,t,a){}},[["ijGc",1,2]]]);